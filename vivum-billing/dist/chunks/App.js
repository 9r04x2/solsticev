import{r as p,i as $,T as A,s as rs,u as ee,g as De,j as M,a as v,D as yn,H as st,F as Ke,b as Vt,N as yo,I as Ye,V as Je,c as is,d as je,e as ss}from"../index.js";const Or=p.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),Ht=p.createContext({}),zt=p.createContext(null),Gt=typeof document<"u",Lt=Gt?p.useLayoutEffect:p.useEffect,Lr=p.createContext({strict:!1});function as(e,t,n,o){const{visualElement:r}=p.useContext(Ht),s=p.useContext(Lr),i=p.useContext(zt),a=p.useContext(Or).reducedMotion,c=p.useRef();o=o||s.renderer,!c.current&&o&&(c.current=o(e,{visualState:t,parent:r,props:n,presenceContext:i,blockInitialAnimation:i?i.initial===!1:!1,reducedMotionConfig:a}));const l=c.current;return p.useInsertionEffect(()=>{l&&l.update(n,i)}),Lt(()=>{l&&l.render()}),p.useEffect(()=>{l&&l.updateFeatures()}),(window.HandoffAppearAnimations?Lt:p.useEffect)(()=>{l&&l.animationState&&l.animationState.animateChanges()}),l}function _e(e){return typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function ls(e,t,n){return p.useCallback(o=>{o&&e.mount&&e.mount(o),t&&(o?t.mount(o):t.unmount()),n&&(typeof n=="function"?n(o):_e(n)&&(n.current=o))},[t])}function at(e){return typeof e=="string"||Array.isArray(e)}function Wt(e){return typeof e=="object"&&typeof e.start=="function"}const Nn=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Fn=["initial",...Nn];function Kt(e){return Wt(e.animate)||Fn.some(t=>at(e[t]))}function Dr(e){return Boolean(Kt(e)||e.variants)}function cs(e,t){if(Kt(e)){const{initial:n,animate:o}=e;return{initial:n===!1||at(n)?n:void 0,animate:at(o)?o:void 0}}return e.inherit!==!1?t:{}}function us(e){const{initial:t,animate:n}=cs(e,p.useContext(Ht));return p.useMemo(()=>({initial:t,animate:n}),[vo(t),vo(n)])}function vo(e){return Array.isArray(e)?e.join(" "):e}const bo={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},lt={};for(const e in bo)lt[e]={isEnabled:t=>bo[e].some(n=>!!t[n])};function ds(e){for(const t in e)lt[t]={...lt[t],...e[t]}}function Bn(e){const t=p.useRef(null);return t.current===null&&(t.current=e()),t.current}const et={hasAnimatedSinceResize:!0,hasEverUpdated:!1};let fs=1;function hs(){return Bn(()=>{if(et.hasEverUpdated)return fs++})}const jn=p.createContext({}),Er=p.createContext({}),ps=Symbol.for("motionComponentSymbol");function ms({preloadedFeatures:e,createVisualElement:t,useRender:n,useVisualState:o,Component:r}){e&&ds(e);function s(a,c){let l;const u={...p.useContext(Or),...a,layoutId:gs(a)},{isStatic:f}=u,d=us(a),h=f?void 0:hs(),m=o(a,f);if(!f&&Gt){d.visualElement=as(r,m,u,t);const g=p.useContext(Er),y=p.useContext(Lr).strict;d.visualElement&&(l=d.visualElement.loadFeatures(u,y,e,h,g))}return p.createElement(Ht.Provider,{value:d},l&&d.visualElement?p.createElement(l,{visualElement:d.visualElement,...u}):null,n(r,a,h,ls(m,d.visualElement,c),m,f,d.visualElement))}const i=p.forwardRef(s);return i[ps]=r,i}function gs({layoutId:e}){const t=p.useContext(jn).id;return t&&e!==void 0?t+"-"+e:e}function ys(e){function t(o,r={}){return ms(e(o,r))}if(typeof Proxy>"u")return t;const n=new Map;return new Proxy(t,{get:(o,r)=>(n.has(r)||n.set(r,t(r)),n.get(r))})}const vs=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function $n(e){return typeof e!="string"||e.includes("-")?!1:!!(vs.indexOf(e)>-1||/[A-Z]/.test(e))}const Dt={};function bs(e){Object.assign(Dt,e)}const qt=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Ie=new Set(qt);function kr(e,{layout:t,layoutId:n}){return Ie.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!Dt[e]||e==="opacity")}const J=e=>Boolean(e&&e.getVelocity),xs={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Ps=qt.length;function Ss(e,{enableHardwareAcceleration:t=!0,allowTransformNone:n=!0},o,r){let s="";for(let i=0;i<Ps;i++){const a=qt[i];if(e[a]!==void 0){const c=xs[a]||a;s+=`${c}(${e[a]}) `}}return t&&!e.z&&(s+="translateZ(0)"),s=s.trim(),r?s=r(e,o?"":s):n&&o&&(s="none"),s}const Mr=e=>t=>typeof t=="string"&&t.startsWith(e),Ir=Mr("--"),vn=Mr("var(--"),ws=(e,t)=>t&&typeof e=="number"?t.transform(e):e,Ee=(e,t,n)=>Math.min(Math.max(n,e),t),Ne={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},tt={...Ne,transform:e=>Ee(0,1,e)},St={...Ne,default:1},nt=e=>Math.round(e*1e5)/1e5,ct=/(-)?([\d]*\.?[\d])+/g,bn=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,Ts=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function ht(e){return typeof e=="string"}const pt=e=>({test:t=>ht(t)&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),be=pt("deg"),fe=pt("%"),D=pt("px"),Cs=pt("vh"),Rs=pt("vw"),xo={...fe,parse:e=>fe.parse(e)/100,transform:e=>fe.transform(e*100)},Po={...Ne,transform:Math.round},Nr={borderWidth:D,borderTopWidth:D,borderRightWidth:D,borderBottomWidth:D,borderLeftWidth:D,borderRadius:D,radius:D,borderTopLeftRadius:D,borderTopRightRadius:D,borderBottomRightRadius:D,borderBottomLeftRadius:D,width:D,maxWidth:D,height:D,maxHeight:D,size:D,top:D,right:D,bottom:D,left:D,padding:D,paddingTop:D,paddingRight:D,paddingBottom:D,paddingLeft:D,margin:D,marginTop:D,marginRight:D,marginBottom:D,marginLeft:D,rotate:be,rotateX:be,rotateY:be,rotateZ:be,scale:St,scaleX:St,scaleY:St,scaleZ:St,skew:be,skewX:be,skewY:be,distance:D,translateX:D,translateY:D,translateZ:D,x:D,y:D,z:D,perspective:D,transformPerspective:D,opacity:tt,originX:xo,originY:xo,originZ:D,zIndex:Po,fillOpacity:tt,strokeOpacity:tt,numOctaves:Po};function _n(e,t,n,o){const{style:r,vars:s,transform:i,transformOrigin:a}=e;let c=!1,l=!1,u=!0;for(const f in t){const d=t[f];if(Ir(f)){s[f]=d;continue}const h=Nr[f],m=ws(d,h);if(Ie.has(f)){if(c=!0,i[f]=m,!u)continue;d!==(h.default||0)&&(u=!1)}else f.startsWith("origin")?(l=!0,a[f]=m):r[f]=m}if(t.transform||(c||o?r.transform=Ss(e.transform,n,u,o):r.transform&&(r.transform="none")),l){const{originX:f="50%",originY:d="50%",originZ:h=0}=a;r.transformOrigin=`${f} ${d} ${h}`}}const Un=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Fr(e,t,n){for(const o in t)!J(t[o])&&!kr(o,n)&&(e[o]=t[o])}function As({transformTemplate:e},t,n){return p.useMemo(()=>{const o=Un();return _n(o,t,{enableHardwareAcceleration:!n},e),Object.assign({},o.vars,o.style)},[t])}function Vs(e,t,n){const o=e.style||{},r={};return Fr(r,o,e),Object.assign(r,As(e,t,n)),e.transformValues?e.transformValues(r):r}function Os(e,t,n){const o={},r=Vs(e,t,n);return e.drag&&e.dragListener!==!1&&(o.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(o.tabIndex=0),o.style=r,o}const Ls=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onLayoutAnimationStart","onLayoutAnimationComplete","onLayoutMeasure","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","ignoreStrict","viewport"]);function Et(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||Ls.has(e)}let Br=e=>!Et(e);function Ds(e){e&&(Br=t=>t.startsWith("on")?!Et(t):e(t))}try{Ds(require("@emotion/is-prop-valid").default)}catch{}function Es(e,t,n){const o={};for(const r in e)r==="values"&&typeof e.values=="object"||(Br(r)||n===!0&&Et(r)||!t&&!Et(r)||e.draggable&&r.startsWith("onDrag"))&&(o[r]=e[r]);return o}function So(e,t,n){return typeof e=="string"?e:D.transform(t+n*e)}function ks(e,t,n){const o=So(t,e.x,e.width),r=So(n,e.y,e.height);return`${o} ${r}`}const Ms={offset:"stroke-dashoffset",array:"stroke-dasharray"},Is={offset:"strokeDashoffset",array:"strokeDasharray"};function Ns(e,t,n=1,o=0,r=!0){e.pathLength=1;const s=r?Ms:Is;e[s.offset]=D.transform(-o);const i=D.transform(t),a=D.transform(n);e[s.array]=`${i} ${a}`}function Hn(e,{attrX:t,attrY:n,originX:o,originY:r,pathLength:s,pathSpacing:i=1,pathOffset:a=0,...c},l,u,f){if(_n(e,c,l,f),u){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:d,style:h,dimensions:m}=e;d.transform&&(m&&(h.transform=d.transform),delete d.transform),m&&(o!==void 0||r!==void 0||h.transform)&&(h.transformOrigin=ks(m,o!==void 0?o:.5,r!==void 0?r:.5)),t!==void 0&&(d.x=t),n!==void 0&&(d.y=n),s!==void 0&&Ns(d,s,i,a,!1)}const jr=()=>({...Un(),attrs:{}}),zn=e=>typeof e=="string"&&e.toLowerCase()==="svg";function Fs(e,t,n,o){const r=p.useMemo(()=>{const s=jr();return Hn(s,t,{enableHardwareAcceleration:!1},zn(o),e.transformTemplate),{...s.attrs,style:{...s.style}}},[t]);if(e.style){const s={};Fr(s,e.style,e),r.style={...s,...r.style}}return r}function Bs(e=!1){return(n,o,r,s,{latestValues:i},a)=>{const l=($n(n)?Fs:Os)(o,i,a,n),f={...Es(o,typeof n=="string",e),...l,ref:s},{children:d}=o,h=p.useMemo(()=>J(d)?d.get():d,[d]);return r&&(f["data-projection-id"]=r),p.createElement(n,{...f,children:h})}}const Gn=e=>e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();function $r(e,{style:t,vars:n},o,r){Object.assign(e.style,t,r&&r.getProjectionStyles(o));for(const s in n)e.style.setProperty(s,n[s])}const _r=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Ur(e,t,n,o){$r(e,t,void 0,o);for(const r in t.attrs)e.setAttribute(_r.has(r)?r:Gn(r),t.attrs[r])}function Wn(e,t){const{style:n}=e,o={};for(const r in n)(J(n[r])||t.style&&J(t.style[r])||kr(r,e))&&(o[r]=n[r]);return o}function Hr(e,t){const n=Wn(e,t);for(const o in e)if(J(e[o])||J(t[o])){const r=o==="x"||o==="y"?"attr"+o.toUpperCase():o;n[r]=e[o]}return n}function Kn(e,t,n,o={},r={}){return typeof t=="function"&&(t=t(n!==void 0?n:e.custom,o,r)),typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"&&(t=t(n!==void 0?n:e.custom,o,r)),t}const kt=e=>Array.isArray(e),js=e=>Boolean(e&&typeof e=="object"&&e.mix&&e.toValue),$s=e=>kt(e)?e[e.length-1]||0:e;function Ot(e){const t=J(e)?e.get():e;return js(t)?t.toValue():t}function _s({scrapeMotionValuesFromProps:e,createRenderState:t,onMount:n},o,r,s){const i={latestValues:Us(o,r,s,e),renderState:t()};return n&&(i.mount=a=>n(o,a,i)),i}const zr=e=>(t,n)=>{const o=p.useContext(Ht),r=p.useContext(zt),s=()=>_s(e,t,o,r);return n?s():Bn(s)};function Us(e,t,n,o){const r={},s=o(e,{});for(const d in s)r[d]=Ot(s[d]);let{initial:i,animate:a}=e;const c=Kt(e),l=Dr(e);t&&l&&!c&&e.inherit!==!1&&(i===void 0&&(i=t.initial),a===void 0&&(a=t.animate));let u=n?n.initial===!1:!1;u=u||i===!1;const f=u?a:i;return f&&typeof f!="boolean"&&!Wt(f)&&(Array.isArray(f)?f:[f]).forEach(h=>{const m=Kn(e,h);if(!m)return;const{transitionEnd:g,transition:y,...x}=m;for(const P in x){let b=x[P];if(Array.isArray(b)){const S=u?b.length-1:0;b=b[S]}b!==null&&(r[P]=b)}for(const P in g)r[P]=g[P]}),r}const Hs={useVisualState:zr({scrapeMotionValuesFromProps:Hr,createRenderState:jr,onMount:(e,t,{renderState:n,latestValues:o})=>{try{n.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}Hn(n,o,{enableHardwareAcceleration:!1},zn(t.tagName),e.transformTemplate),Ur(t,n)}})},zs={useVisualState:zr({scrapeMotionValuesFromProps:Wn,createRenderState:Un})};function Gs(e,{forwardMotionProps:t=!1},n,o){return{...$n(e)?Hs:zs,preloadedFeatures:n,useRender:Bs(t),createVisualElement:o,Component:e}}function pe(e,t,n,o={passive:!0}){return e.addEventListener(t,n,o),()=>e.removeEventListener(t,n)}const Gr=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1;function Yt(e,t="page"){return{point:{x:e[t+"X"],y:e[t+"Y"]}}}const Ws=e=>t=>Gr(t)&&e(t,Yt(t));function me(e,t,n,o){return pe(e,t,Ws(n),o)}const Ks=(e,t)=>n=>t(e(n)),Pe=(...e)=>e.reduce(Ks);function Wr(e){let t=null;return()=>{const n=()=>{t=null};return t===null?(t=e,n):!1}}const wo=Wr("dragHorizontal"),To=Wr("dragVertical");function Kr(e){let t=!1;if(e==="y")t=To();else if(e==="x")t=wo();else{const n=wo(),o=To();n&&o?t=()=>{n(),o()}:(n&&n(),o&&o())}return t}function qr(){const e=Kr(!0);return e?(e(),!1):!0}class Ce{constructor(t){this.isMounted=!1,this.node=t}update(){}}function qs(e){let t=[],n=[],o=0,r=!1,s=!1;const i=new WeakSet,a={schedule:(c,l=!1,u=!1)=>{const f=u&&r,d=f?t:n;return l&&i.add(c),d.indexOf(c)===-1&&(d.push(c),f&&r&&(o=t.length)),c},cancel:c=>{const l=n.indexOf(c);l!==-1&&n.splice(l,1),i.delete(c)},process:c=>{if(r){s=!0;return}if(r=!0,[t,n]=[n,t],n.length=0,o=t.length,o)for(let l=0;l<o;l++){const u=t[l];u(c),i.has(u)&&(a.schedule(u),e())}r=!1,s&&(s=!1,a.process(c))}};return a}const ce={delta:0,timestamp:0},Ys=40;let xn=!0,ut=!1,Pn=!1;const mt=["read","update","preRender","render","postRender"],Xt=mt.reduce((e,t)=>(e[t]=qs(()=>ut=!0),e),{}),j=mt.reduce((e,t)=>{const n=Xt[t];return e[t]=(o,r=!1,s=!1)=>(ut||Zs(),n.schedule(o,r,s)),e},{}),we=mt.reduce((e,t)=>(e[t]=Xt[t].cancel,e),{}),Qt=mt.reduce((e,t)=>(e[t]=()=>Xt[t].process(ce),e),{}),Xs=e=>Xt[e].process(ce),Yr=e=>{ut=!1,ce.delta=xn?1e3/60:Math.max(Math.min(e-ce.timestamp,Ys),1),ce.timestamp=e,Pn=!0,mt.forEach(Xs),Pn=!1,ut&&(xn=!1,requestAnimationFrame(Yr))},Zs=()=>{ut=!0,xn=!0,Pn||requestAnimationFrame(Yr)};function Co(e,t){const n="pointer"+(t?"enter":"leave"),o="onHover"+(t?"Start":"End"),r=(s,i)=>{if(s.type==="touch"||qr())return;const a=e.getProps();e.animationState&&a.whileHover&&e.animationState.setActive("whileHover",t),a[o]&&j.update(()=>a[o](s,i))};return me(e.current,n,r,{passive:!e.getProps()[o]})}class Qs extends Ce{mount(){this.unmount=Pe(Co(this.node,!0),Co(this.node,!1))}unmount(){}}class Js extends Ce{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Pe(pe(this.node.current,"focus",()=>this.onFocus()),pe(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const Xr=(e,t)=>t?e===t?!0:Xr(e,t.parentElement):!1,X=e=>e;function Jt(e,t){if(!t)return;const n=new PointerEvent("pointer"+e);t(n,Yt(n))}class ea extends Ce{constructor(){super(...arguments),this.removeStartListeners=X,this.removeEndListeners=X,this.removeAccessibleListeners=X,this.startPointerPress=(t,n)=>{if(this.removeEndListeners(),this.isPressing)return;const o=this.node.getProps(),s=me(window,"pointerup",(a,c)=>{if(!this.checkPressEnd())return;const{onTap:l,onTapCancel:u}=this.node.getProps();j.update(()=>{Xr(this.node.current,a.target)?l&&l(a,c):u&&u(a,c)})},{passive:!(o.onTap||o.onPointerUp)}),i=me(window,"pointercancel",(a,c)=>this.cancelPress(a,c),{passive:!(o.onTapCancel||o.onPointerCancel)});this.removeEndListeners=Pe(s,i),this.startPress(t,n)},this.startAccessiblePress=()=>{const t=s=>{if(s.key!=="Enter"||this.isPressing)return;const i=a=>{a.key!=="Enter"||!this.checkPressEnd()||Jt("up",(c,l)=>{const{onTap:u}=this.node.getProps();u&&j.update(()=>u(c,l))})};this.removeEndListeners(),this.removeEndListeners=pe(this.node.current,"keyup",i),Jt("down",(a,c)=>{this.startPress(a,c)})},n=pe(this.node.current,"keydown",t),o=()=>{this.isPressing&&Jt("cancel",(s,i)=>this.cancelPress(s,i))},r=pe(this.node.current,"blur",o);this.removeAccessibleListeners=Pe(n,r)}}startPress(t,n){this.isPressing=!0;const{onTapStart:o,whileTap:r}=this.node.getProps();r&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),o&&j.update(()=>o(t,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!qr()}cancelPress(t,n){if(!this.checkPressEnd())return;const{onTapCancel:o}=this.node.getProps();o&&j.update(()=>o(t,n))}mount(){const t=this.node.getProps(),n=me(this.node.current,"pointerdown",this.startPointerPress,{passive:!(t.onTapStart||t.onPointerStart)}),o=pe(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=Pe(n,o)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const Sn=new WeakMap,en=new WeakMap,ta=e=>{const t=Sn.get(e.target);t&&t(e)},na=e=>{e.forEach(ta)};function oa({root:e,...t}){const n=e||document;en.has(n)||en.set(n,{});const o=en.get(n),r=JSON.stringify(t);return o[r]||(o[r]=new IntersectionObserver(na,{root:e,...t})),o[r]}function ra(e,t,n){const o=oa(t);return Sn.set(e,n),o.observe(e),()=>{Sn.delete(e),o.unobserve(e)}}const ia={some:0,all:1};class sa extends Ce{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:o,amount:r="some",once:s}=t,i={root:n?n.current:void 0,rootMargin:o,threshold:typeof r=="number"?r:ia[r]},a=c=>{const{isIntersecting:l}=c;if(this.isInView===l||(this.isInView=l,s&&!l&&this.hasEnteredView))return;l&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",l);const{onViewportEnter:u,onViewportLeave:f}=this.node.getProps(),d=l?u:f;d&&d(c)};return ra(this.node.current,i,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(aa(t,n))&&this.startObserver()}unmount(){}}function aa({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const la={inView:{Feature:sa},tap:{Feature:ea},focus:{Feature:Js},hover:{Feature:Qs}};function Zr(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let o=0;o<n;o++)if(t[o]!==e[o])return!1;return!0}const ca=e=>/^\-?\d*\.?\d+$/.test(e),ua=e=>/^0[^.\s]+$/.test(e);function qn(e,t){e.indexOf(t)===-1&&e.push(t)}function Yn(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class Xn{constructor(){this.subscriptions=[]}add(t){return qn(this.subscriptions,t),()=>Yn(this.subscriptions,t)}notify(t,n,o){const r=this.subscriptions.length;if(r)if(r===1)this.subscriptions[0](t,n,o);else for(let s=0;s<r;s++){const i=this.subscriptions[s];i&&i(t,n,o)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function Qr(e,t){return t?e*(1e3/t):0}const da=e=>!isNaN(parseFloat(e));class fa{constructor(t,n={}){this.version="10.3.2",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(o,r=!0)=>{this.prev=this.current,this.current=o;const{delta:s,timestamp:i}=ce;this.lastUpdated!==i&&(this.timeDelta=s,this.lastUpdated=i,j.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),r&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>j.postRender(this.velocityCheck),this.velocityCheck=({timestamp:o})=>{o!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=t,this.canTrackVelocity=da(this.current),this.owner=n.owner}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new Xn);const o=this.events[t].add(n);return t==="change"?()=>{o(),j.read(()=>{this.events.change.getSize()||this.stop()})}:o}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t,n=!0){!n||!this.passiveEffect?this.updateAndNotify(t,n):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,n,o){this.set(n),this.prev=t,this.timeDelta=o}jump(t){this.updateAndNotify(t),this.prev=t,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?Qr(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Ge(e,t){return new fa(e,t)}const Zn=(e,t)=>n=>Boolean(ht(n)&&Ts.test(n)&&n.startsWith(e)||t&&Object.prototype.hasOwnProperty.call(n,t)),Jr=(e,t,n)=>o=>{if(!ht(o))return o;const[r,s,i,a]=o.match(ct);return{[e]:parseFloat(r),[t]:parseFloat(s),[n]:parseFloat(i),alpha:a!==void 0?parseFloat(a):1}},ha=e=>Ee(0,255,e),tn={...Ne,transform:e=>Math.round(ha(e))},Oe={test:Zn("rgb","red"),parse:Jr("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:o=1})=>"rgba("+tn.transform(e)+", "+tn.transform(t)+", "+tn.transform(n)+", "+nt(tt.transform(o))+")"};function pa(e){let t="",n="",o="",r="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),o=e.substring(5,7),r=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),o=e.substring(3,4),r=e.substring(4,5),t+=t,n+=n,o+=o,r+=r),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(o,16),alpha:r?parseInt(r,16)/255:1}}const wn={test:Zn("#"),parse:pa,transform:Oe.transform},Ue={test:Zn("hsl","hue"),parse:Jr("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:o=1})=>"hsla("+Math.round(e)+", "+fe.transform(nt(t))+", "+fe.transform(nt(n))+", "+nt(tt.transform(o))+")"},Y={test:e=>Oe.test(e)||wn.test(e)||Ue.test(e),parse:e=>Oe.test(e)?Oe.parse(e):Ue.test(e)?Ue.parse(e):wn.parse(e),transform:e=>ht(e)?e:e.hasOwnProperty("red")?Oe.transform(e):Ue.transform(e)},ei="${c}",ti="${n}";function ma(e){var t,n;return isNaN(e)&&ht(e)&&(((t=e.match(ct))===null||t===void 0?void 0:t.length)||0)+(((n=e.match(bn))===null||n===void 0?void 0:n.length)||0)>0}function Mt(e){typeof e=="number"&&(e=`${e}`);const t=[];let n=0,o=0;const r=e.match(bn);r&&(n=r.length,e=e.replace(bn,ei),t.push(...r.map(Y.parse)));const s=e.match(ct);return s&&(o=s.length,e=e.replace(ct,ti),t.push(...s.map(Ne.parse))),{values:t,numColors:n,numNumbers:o,tokenised:e}}function ni(e){return Mt(e).values}function oi(e){const{values:t,numColors:n,tokenised:o}=Mt(e),r=t.length;return s=>{let i=o;for(let a=0;a<r;a++)i=i.replace(a<n?ei:ti,a<n?Y.transform(s[a]):nt(s[a]));return i}}const ga=e=>typeof e=="number"?0:e;function ya(e){const t=ni(e);return oi(e)(t.map(ga))}const Te={test:ma,parse:ni,createTransformer:oi,getAnimatableNone:ya},va=new Set(["brightness","contrast","saturate","opacity"]);function ba(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[o]=n.match(ct)||[];if(!o)return e;const r=n.replace(o,"");let s=va.has(t)?1:0;return o!==n&&(s*=100),t+"("+s+r+")"}const xa=/([a-z-]*)\(.*?\)/g,Tn={...Te,getAnimatableNone:e=>{const t=e.match(xa);return t?t.map(ba).join(" "):e}},Pa={...Nr,color:Y,backgroundColor:Y,outlineColor:Y,fill:Y,stroke:Y,borderColor:Y,borderTopColor:Y,borderRightColor:Y,borderBottomColor:Y,borderLeftColor:Y,filter:Tn,WebkitFilter:Tn},Qn=e=>Pa[e];function Jn(e,t){let n=Qn(e);return n!==Tn&&(n=Te),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const ri=e=>t=>t.test(e),Sa={test:e=>e==="auto",parse:e=>e},ii=[Ne,D,fe,be,Rs,Cs,Sa],Xe=e=>ii.find(ri(e)),wa=[...ii,Y,Te],Ta=e=>wa.find(ri(e));function Ca(e){const t={};return e.values.forEach((n,o)=>t[o]=n.get()),t}function Ra(e){const t={};return e.values.forEach((n,o)=>t[o]=n.getVelocity()),t}function Zt(e,t,n){const o=e.getProps();return Kn(o,t,n!==void 0?n:o.custom,Ca(e),Ra(e))}function Aa(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,Ge(n))}function Va(e,t){const n=Zt(e,t);let{transitionEnd:o={},transition:r={},...s}=n?e.makeTargetAnimatable(n,!1):{};s={...s,...o};for(const i in s){const a=$s(s[i]);Aa(e,i,a)}}function Oa(e,t,n){var o,r;const s=Object.keys(t).filter(a=>!e.hasValue(a)),i=s.length;if(i)for(let a=0;a<i;a++){const c=s[a],l=t[c];let u=null;Array.isArray(l)&&(u=l[0]),u===null&&(u=(r=(o=n[c])!==null&&o!==void 0?o:e.readValue(c))!==null&&r!==void 0?r:t[c]),u!=null&&(typeof u=="string"&&(ca(u)||ua(u))?u=parseFloat(u):!Ta(u)&&Te.test(l)&&(u=Jn(c,l)),e.addValue(c,Ge(u,{owner:e})),n[c]===void 0&&(n[c]=u),u!==null&&e.setBaseTarget(c,u))}}function La(e,t){return t?(t[e]||t.default||t).from:void 0}function Da(e,t,n){const o={};for(const r in e){const s=La(r,t);if(s!==void 0)o[r]=s;else{const i=n.getValue(r);i&&(o[r]=i.get())}}return o}function It(e){return Boolean(J(e)&&e.add)}const Ea="framerAppearId",ka="data-"+Gn(Ea);let Ma=X,Nt=X;const Se=e=>e*1e3,We=e=>e/1e3,Ia={current:!1};function Na(e){return!e||Array.isArray(e)||typeof e=="string"&&si[e]}const Qe=([e,t,n,o])=>`cubic-bezier(${e}, ${t}, ${n}, ${o})`,si={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Qe([0,.65,.55,1]),circOut:Qe([.55,0,1,.45]),backIn:Qe([.31,.01,.66,-.59]),backOut:Qe([.33,1.53,.69,.99])};function Fa(e){if(e)return Array.isArray(e)?Qe(e):si[e]}function Ba(e,t,n,{delay:o=0,duration:r,repeat:s=0,repeatType:i="loop",ease:a,times:c}={}){const l={[t]:n};return c&&(l.offset=c),e.animate(l,{delay:o,duration:r,easing:Fa(a),fill:"both",iterations:s+1,direction:i==="reverse"?"alternate":"normal"})}const Ro={waapi:()=>Object.hasOwnProperty.call(Element.prototype,"animate")},nn={},ai={};for(const e in Ro)ai[e]=()=>(nn[e]===void 0&&(nn[e]=Ro[e]()),nn[e]);function ja(e,{repeat:t,repeatType:n="loop"}){const o=t&&n!=="loop"&&t%2===1?0:e.length-1;return e[o]}const eo=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,to=e=>t=>1-e(1-t),no=e=>e*e,$a=to(no),li=eo(no),U=(e,t,n)=>-n*e+n*t+e;function on(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function _a({hue:e,saturation:t,lightness:n,alpha:o}){e/=360,t/=100,n/=100;let r=0,s=0,i=0;if(!t)r=s=i=n;else{const a=n<.5?n*(1+t):n+t-n*t,c=2*n-a;r=on(c,a,e+1/3),s=on(c,a,e),i=on(c,a,e-1/3)}return{red:Math.round(r*255),green:Math.round(s*255),blue:Math.round(i*255),alpha:o}}const rn=(e,t,n)=>{const o=e*e;return Math.sqrt(Math.max(0,n*(t*t-o)+o))},Ua=[wn,Oe,Ue],Ha=e=>Ua.find(t=>t.test(e));function Ao(e){const t=Ha(e);let n=t.parse(e);return t===Ue&&(n=_a(n)),n}const ci=(e,t)=>{const n=Ao(e),o=Ao(t),r={...n};return s=>(r.red=rn(n.red,o.red,s),r.green=rn(n.green,o.green,s),r.blue=rn(n.blue,o.blue,s),r.alpha=U(n.alpha,o.alpha,s),Oe.transform(r))};function ui(e,t){return typeof e=="number"?n=>U(e,t,n):Y.test(e)?ci(e,t):fi(e,t)}const di=(e,t)=>{const n=[...e],o=n.length,r=e.map((s,i)=>ui(s,t[i]));return s=>{for(let i=0;i<o;i++)n[i]=r[i](s);return n}},za=(e,t)=>{const n={...e,...t},o={};for(const r in n)e[r]!==void 0&&t[r]!==void 0&&(o[r]=ui(e[r],t[r]));return r=>{for(const s in o)n[s]=o[s](r);return n}},fi=(e,t)=>{const n=Te.createTransformer(t),o=Mt(e),r=Mt(t);return o.numColors===r.numColors&&o.numNumbers>=r.numNumbers?Pe(di(o.values,r.values),n):i=>`${i>0?t:e}`},dt=(e,t,n)=>{const o=t-e;return o===0?1:(n-e)/o},Vo=(e,t)=>n=>U(e,t,n);function Ga(e){return typeof e=="number"?Vo:typeof e=="string"?Y.test(e)?ci:fi:Array.isArray(e)?di:typeof e=="object"?za:Vo}function Wa(e,t,n){const o=[],r=n||Ga(e[0]),s=e.length-1;for(let i=0;i<s;i++){let a=r(e[i],e[i+1]);if(t){const c=Array.isArray(t)?t[i]:t;a=Pe(c,a)}o.push(a)}return o}function hi(e,t,{clamp:n=!0,ease:o,mixer:r}={}){const s=e.length;Nt(s===t.length),Nt(!o||!Array.isArray(o)||o.length===s-1),e[0]>e[s-1]&&(e=[...e].reverse(),t=[...t].reverse());const i=Wa(t,o,r),a=i.length,c=l=>{let u=0;if(a>1)for(;u<e.length-2&&!(l<e[u+1]);u++);const f=dt(e[u],e[u+1],l);return i[u](f)};return n?l=>c(Ee(e[0],e[s-1],l)):c}function Ka(e,t){const n=e[e.length-1];for(let o=1;o<=t;o++){const r=dt(0,t,o);e.push(U(n,1,r))}}function qa(e){const t=[0];return Ka(t,e.length-1),t}function Ya(e,t){return e.map(n=>n*t)}const pi=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,Xa=1e-7,Za=12;function Qa(e,t,n,o,r){let s,i,a=0;do i=t+(n-t)/2,s=pi(i,o,r)-e,s>0?n=i:t=i;while(Math.abs(s)>Xa&&++a<Za);return i}function mi(e,t,n,o){if(e===t&&n===o)return X;const r=s=>Qa(s,0,1,e,n);return s=>s===0||s===1?s:pi(r(s),t,o)}const gi=e=>1-Math.sin(Math.acos(e)),oo=to(gi),Ja=eo(oo),yi=mi(.33,1.53,.69,.99),ro=to(yi),el=eo(ro),tl=e=>(e*=2)<1?.5*ro(e):.5*(2-Math.pow(2,-10*(e-1))),nl={linear:X,easeIn:no,easeInOut:li,easeOut:$a,circIn:gi,circInOut:Ja,circOut:oo,backIn:ro,backInOut:el,backOut:yi,anticipate:tl},Oo=e=>{if(Array.isArray(e)){Nt(e.length===4);const[t,n,o,r]=e;return mi(t,n,o,r)}else if(typeof e=="string")return nl[e];return e},ol=e=>Array.isArray(e)&&typeof e[0]!="number";function rl(e,t){return e.map(()=>t||li).splice(0,e.length-1)}function Ft({duration:e=300,keyframes:t,times:n,ease:o="easeInOut"}){const r=ol(o)?o.map(Oo):Oo(o),s={done:!1,value:t[0]},i=Ya(n&&n.length===t.length?n:qa(t),e),a=hi(i,t,{ease:Array.isArray(r)?r:rl(t,r)});return{calculatedDuration:e,next:c=>(s.value=a(c),s.done=c>=e,s)}}const il=5;function vi(e,t,n){const o=Math.max(t-il,0);return Qr(n-e(o),t-o)}const sn=.001,sl=.01,Lo=10,al=.05,ll=1;function cl({duration:e=800,bounce:t=.25,velocity:n=0,mass:o=1}){let r,s;Ma(e<=Se(Lo));let i=1-t;i=Ee(al,ll,i),e=Ee(sl,Lo,We(e)),i<1?(r=l=>{const u=l*i,f=u*e,d=u-n,h=Cn(l,i),m=Math.exp(-f);return sn-d/h*m},s=l=>{const f=l*i*e,d=f*n+n,h=Math.pow(i,2)*Math.pow(l,2)*e,m=Math.exp(-f),g=Cn(Math.pow(l,2),i);return(-r(l)+sn>0?-1:1)*((d-h)*m)/g}):(r=l=>{const u=Math.exp(-l*e),f=(l-n)*e+1;return-sn+u*f},s=l=>{const u=Math.exp(-l*e),f=(n-l)*(e*e);return u*f});const a=5/e,c=dl(r,s,a);if(e=Se(e),isNaN(c))return{stiffness:100,damping:10,duration:e};{const l=Math.pow(c,2)*o;return{stiffness:l,damping:i*2*Math.sqrt(o*l),duration:e}}}const ul=12;function dl(e,t,n){let o=n;for(let r=1;r<ul;r++)o=o-e(o)/t(o);return o}function Cn(e,t){return e*Math.sqrt(1-t*t)}const fl=["duration","bounce"],hl=["stiffness","damping","mass"];function Do(e,t){return t.some(n=>e[n]!==void 0)}function pl(e){let t={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...e};if(!Do(e,hl)&&Do(e,fl)){const n=cl(e);t={...t,...n,velocity:0,mass:1},t.isResolvedFromDuration=!0}return t}function bi({keyframes:e,restDelta:t,restSpeed:n,...o}){const r=e[0],s=e[e.length-1],i={done:!1,value:r},{stiffness:a,damping:c,mass:l,velocity:u,duration:f,isResolvedFromDuration:d}=pl(o),h=u?-We(u):0,m=c/(2*Math.sqrt(a*l)),g=s-r,y=We(Math.sqrt(a/l)),x=Math.abs(g)<5;n||(n=x?.01:2),t||(t=x?.005:.5);let P;if(m<1){const b=Cn(y,m);P=S=>{const C=Math.exp(-m*y*S);return s-C*((h+m*y*g)/b*Math.sin(b*S)+g*Math.cos(b*S))}}else if(m===1)P=b=>s-Math.exp(-y*b)*(g+(h+y*g)*b);else{const b=y*Math.sqrt(m*m-1);P=S=>{const C=Math.exp(-m*y*S),O=Math.min(b*S,300);return s-C*((h+m*y*g)*Math.sinh(O)+b*g*Math.cosh(O))/b}}return{calculatedDuration:d&&f||null,next:b=>{const S=P(b);if(d)i.done=b>=f;else{let C=h;b!==0&&(m<1?C=vi(P,b,S):C=0);const O=Math.abs(C)<=n,L=Math.abs(s-S)<=t;i.done=O&&L}return i.value=i.done?s:S,i}}}function Eo({keyframes:e,velocity:t=0,power:n=.8,timeConstant:o=325,bounceDamping:r=10,bounceStiffness:s=500,modifyTarget:i,min:a,max:c,restDelta:l=.5,restSpeed:u}){const f=e[0],d={done:!1,value:f},h=T=>a!==void 0&&T<a||c!==void 0&&T>c,m=T=>a===void 0?c:c===void 0||Math.abs(a-T)<Math.abs(c-T)?a:c;let g=n*t;const y=f+g,x=i===void 0?y:i(y);x!==y&&(g=x-f);const P=T=>-g*Math.exp(-T/o),b=T=>x+P(T),S=T=>{const I=P(T),H=b(T);d.done=Math.abs(I)<=l,d.value=d.done?x:H};let C,O;const L=T=>{h(d.value)&&(C=T,O=bi({keyframes:[d.value,m(d.value)],velocity:vi(b,T,d.value),damping:r,stiffness:s,restDelta:l,restSpeed:u}))};return L(0),{calculatedDuration:null,next:T=>{let I=!1;return!O&&C===void 0&&(I=!0,S(T),L(T)),C!==void 0&&T>C?O.next(T-C):(!I&&S(T),d)}}}const ml=e=>{const t=({timestamp:n})=>e(n);return{start:()=>j.update(t,!0),stop:()=>we.update(t),now:()=>performance.now()}},gl={decay:Eo,inertia:Eo,tween:Ft,keyframes:Ft,spring:bi},yl=2e4;function vl(e){let t=0;const n=50;let o=e.next(t);for(;!o.done&&t<yl;)t+=n,o=e.next(t);return t}function Bt({autoplay:e=!0,delay:t=0,driver:n=ml,keyframes:o,type:r="keyframes",repeat:s=0,repeatDelay:i=0,repeatType:a="loop",onPlay:c,onStop:l,onComplete:u,onUpdate:f,...d}){let h,m;const g=()=>{m=new Promise(B=>{h=B})};g();let y;const x=gl[r]||Ft;let P;x!==Ft&&typeof o[0]!="number"&&(P=hi([0,100],o,{clamp:!1}),o=[0,100]);const b=x({...d,keyframes:o});let S;a==="mirror"&&(S=x({...d,keyframes:[...o].reverse(),velocity:-(d.velocity||0)}));let C="idle",O=null,L=null;b.calculatedDuration===null&&s&&(b.calculatedDuration=vl(b));const{calculatedDuration:T}=b;let I=1/0,H=1/0;T&&(I=T+i,H=I*(s+1)-i);let R=0;const q=B=>{if(L===null)return;O!==null?R=O:R=B-L,R=Math.max(R-t,0),C==="finished"&&O===null&&(R=H);let G=R,ue=b;if(s){const w=R/I;let V=Math.floor(w),k=w%1;!k&&w>=1&&(k=1),k===1&&V--;const re=V%2;re&&(a==="reverse"?(k=1-k,i&&(k-=i/I)):a==="mirror"&&(ue=S)),G=(R>=H?a==="reverse"&&re?0:1:Ee(0,1,k))*I}const ve=ue.next(G);let{value:Fe,done:oe}=ve;return f&&f(P?P(Fe):Fe),T!==null&&(oe=R>=H),O===null&&(C==="finished"||C==="running"&&oe)&&W(),ve},W=()=>{y&&y.stop(),C="finished",u&&u(),h(),g()},Q=()=>{y||(y=n(q));const B=y.now();c&&c(),C="running",O!==null?L=B-O:L||(L=B),O=null,y.start()};return e&&Q(),{then(B,G){return m.then(B,G)},get time(){return We(R)},set time(B){const G=Se(B);O!==null||!y?O=G:L=y.now()-G},play:Q,pause:()=>{C="paused",O=R},stop:()=>{l&&l(),y&&y.stop(),y=void 0},sample:B=>(L=0,q(B))}}const bl=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),wt=10,xl=2e4,Pl=(e,t)=>t.type==="spring"||e==="backgroundColor"||!Na(t.ease);function Sl(e,t,{onUpdate:n,onComplete:o,...r}){if(!(ai.waapi()&&bl.has(t)&&!r.repeatDelay&&r.repeatType!=="mirror"&&r.damping!==0&&r.type!=="inertia"))return!1;let{keyframes:i,duration:a=300,ease:c}=r;if(Pl(t,r)){const u=Bt({...r,repeat:0,delay:0});let f={done:!1,value:i[0]};const d=[];let h=0;for(;!f.done&&h<xl;)f=u.sample(h),d.push(f.value),h+=wt;i=d,a=h-wt,c="linear"}const l=Ba(e.owner.current,t,i,{...r,duration:a,ease:c});return l.onfinish=()=>{e.set(ja(i,r)),j.update(()=>l.cancel()),o&&o()},{then(u,f){return l.finished.then(u,f)},get time(){return We(l.currentTime||0)},set time(u){l.currentTime=Se(u)},play:()=>l.play(),pause:()=>l.pause(),stop:()=>{const{currentTime:u}=l;if(u){const f=Bt({...r,autoplay:!1});e.setWithVelocity(f.sample(u-wt).value,f.sample(u).value,wt)}j.update(()=>l.cancel())}}}function wl({keyframes:e,delay:t,onUpdate:n,onComplete:o}){const r=()=>(n&&n(e[e.length-1]),o&&o(),{time:0,play:X,pause:X,stop:X,then:()=>Promise.resolve()});return t?Bt({keyframes:[0,1],duration:t,onComplete:r}):r()}const Tl={type:"spring",stiffness:500,damping:25,restSpeed:10},Cl=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),Rl={type:"keyframes",duration:.8},Al={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Vl=(e,{keyframes:t})=>t.length>2?Rl:Ie.has(e)?e.startsWith("scale")?Cl(t[1]):Tl:Al,Rn=(e,t)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&Te.test(t)&&!t.startsWith("url("));function Ol({when:e,delay:t,delayChildren:n,staggerChildren:o,staggerDirection:r,repeat:s,repeatType:i,repeatDelay:a,from:c,elapsed:l,...u}){return!!Object.keys(u).length}function ko(e){return e===0||typeof e=="string"&&parseFloat(e)===0&&e.indexOf(" ")===-1}function Mo(e){return typeof e=="number"?0:Jn("",e)}function xi(e,t){return e[t]||e.default||e}function Ll(e,t,n,o){const r=Rn(t,n);let s=o.from!==void 0?o.from:e.get();return s==="none"&&r&&typeof n=="string"?s=Jn(t,n):ko(s)&&typeof n=="string"?s=Mo(n):!Array.isArray(n)&&ko(n)&&typeof s=="string"&&(n=Mo(s)),Array.isArray(n)?(n[0]===null&&(n[0]=s),n):[s,n]}const io=(e,t,n,o={})=>r=>{const s=xi(o,e)||{},i=s.delay||o.delay||0;let{elapsed:a=0}=o;a=a-Se(i);const c=Ll(t,e,n,s),l=c[0],u=c[c.length-1],f=Rn(e,l),d=Rn(e,u);let h={keyframes:c,velocity:t.getVelocity(),...s,delay:-a,onUpdate:m=>{t.set(m),s.onUpdate&&s.onUpdate(m)},onComplete:()=>{r(),s.onComplete&&s.onComplete()}};if(!f||!d||Ia.current||s.type===!1)return wl(h);if(Ol(s)||(h={...h,...Vl(e,h)}),h.duration&&(h.duration=Se(h.duration)),h.repeatDelay&&(h.repeatDelay=Se(h.repeatDelay)),t.owner&&t.owner.current instanceof HTMLElement&&!t.owner.getProps().onUpdate){const m=Sl(t,e,h);if(m)return m}return Bt(h)};function Dl(e,t,n={}){e.notify("AnimationStart",t);let o;if(Array.isArray(t)){const r=t.map(s=>An(e,s,n));o=Promise.all(r)}else if(typeof t=="string")o=An(e,t,n);else{const r=typeof t=="function"?Zt(e,t,n.custom):t;o=Pi(e,r,n)}return o.then(()=>e.notify("AnimationComplete",t))}function An(e,t,n={}){const o=Zt(e,t,n.custom);let{transition:r=e.getDefaultTransition()||{}}=o||{};n.transitionOverride&&(r=n.transitionOverride);const s=o?()=>Pi(e,o,n):()=>Promise.resolve(),i=e.variantChildren&&e.variantChildren.size?(c=0)=>{const{delayChildren:l=0,staggerChildren:u,staggerDirection:f}=r;return El(e,t,l+c,u,f,n)}:()=>Promise.resolve(),{when:a}=r;if(a){const[c,l]=a==="beforeChildren"?[s,i]:[i,s];return c().then(l)}else return Promise.all([s(),i(n.delay)])}function Pi(e,t,{delay:n=0,transitionOverride:o,type:r}={}){let{transition:s=e.getDefaultTransition(),transitionEnd:i,...a}=e.makeTargetAnimatable(t);const c=e.getValue("willChange");o&&(s=o);const l=[],u=r&&e.animationState&&e.animationState.getState()[r];for(const f in a){const d=e.getValue(f),h=a[f];if(!d||h===void 0||u&&Ml(u,f))continue;const m={delay:n,elapsed:0,...s};if(window.HandoffAppearAnimations&&!d.hasAnimated){const y=e.getProps()[ka];y&&(m.elapsed=window.HandoffAppearAnimations(y,f,d,j))}let g=d.start(io(f,d,h,e.shouldReduceMotion&&Ie.has(f)?{type:!1}:m));It(c)&&(c.add(f),g=g.then(()=>c.remove(f))),l.push(g)}return Promise.all(l).then(()=>{i&&Va(e,i)})}function El(e,t,n=0,o=0,r=1,s){const i=[],a=(e.variantChildren.size-1)*o,c=r===1?(l=0)=>l*o:(l=0)=>a-l*o;return Array.from(e.variantChildren).sort(kl).forEach((l,u)=>{l.notify("AnimationStart",t),i.push(An(l,t,{...s,delay:n+c(u)}).then(()=>l.notify("AnimationComplete",t)))}),Promise.all(i)}function kl(e,t){return e.sortNodePosition(t)}function Ml({protectedKeys:e,needsAnimating:t},n){const o=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,o}const Il=[...Nn].reverse(),Nl=Nn.length;function Fl(e){return t=>Promise.all(t.map(({animation:n,options:o})=>Dl(e,n,o)))}function Bl(e){let t=Fl(e);const n=$l();let o=!0;const r=(c,l)=>{const u=Zt(e,l);if(u){const{transition:f,transitionEnd:d,...h}=u;c={...c,...h,...d}}return c};function s(c){t=c(e)}function i(c,l){const u=e.getProps(),f=e.getVariantContext(!0)||{},d=[],h=new Set;let m={},g=1/0;for(let x=0;x<Nl;x++){const P=Il[x],b=n[P],S=u[P]!==void 0?u[P]:f[P],C=at(S),O=P===l?b.isActive:null;O===!1&&(g=x);let L=S===f[P]&&S!==u[P]&&C;if(L&&o&&e.manuallyAnimateOnMount&&(L=!1),b.protectedKeys={...m},!b.isActive&&O===null||!S&&!b.prevProp||Wt(S)||typeof S=="boolean")continue;const T=jl(b.prevProp,S);let I=T||P===l&&b.isActive&&!L&&C||x>g&&C;const H=Array.isArray(S)?S:[S];let R=H.reduce(r,{});O===!1&&(R={});const{prevResolvedValues:q={}}=b,W={...q,...R},Q=_=>{I=!0,h.delete(_),b.needsAnimating[_]=!0};for(const _ in W){const B=R[_],G=q[_];m.hasOwnProperty(_)||(B!==G?kt(B)&&kt(G)?!Zr(B,G)||T?Q(_):b.protectedKeys[_]=!0:B!==void 0?Q(_):h.add(_):B!==void 0&&h.has(_)?Q(_):b.protectedKeys[_]=!0)}b.prevProp=S,b.prevResolvedValues=R,b.isActive&&(m={...m,...R}),o&&e.blockInitialAnimation&&(I=!1),I&&!L&&d.push(...H.map(_=>({animation:_,options:{type:P,...c}})))}if(h.size){const x={};h.forEach(P=>{const b=e.getBaseTarget(P);b!==void 0&&(x[P]=b)}),d.push({animation:x})}let y=Boolean(d.length);return o&&u.initial===!1&&!e.manuallyAnimateOnMount&&(y=!1),o=!1,y?t(d):Promise.resolve()}function a(c,l,u){var f;if(n[c].isActive===l)return Promise.resolve();(f=e.variantChildren)===null||f===void 0||f.forEach(h=>{var m;return(m=h.animationState)===null||m===void 0?void 0:m.setActive(c,l)}),n[c].isActive=l;const d=i(u,c);for(const h in n)n[h].protectedKeys={};return d}return{animateChanges:i,setActive:a,setAnimateFunction:s,getState:()=>n}}function jl(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!Zr(t,e):!1}function Re(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function $l(){return{animate:Re(!0),whileInView:Re(),whileHover:Re(),whileTap:Re(),whileDrag:Re(),whileFocus:Re(),exit:Re()}}class _l extends Ce{constructor(t){super(t),t.animationState||(t.animationState=Bl(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();this.unmount(),Wt(t)&&(this.unmount=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){}}let Ul=0;class Hl extends Ce{constructor(){super(...arguments),this.id=Ul++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n,custom:o}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===r)return;const s=this.node.animationState.setActive("exit",!t,{custom:o??this.node.getProps().custom});n&&!t&&s.then(()=>n(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const zl={animation:{Feature:_l},exit:{Feature:Hl}},Io=(e,t)=>Math.abs(e-t);function Gl(e,t){const n=Io(e.x,t.x),o=Io(e.y,t.y);return Math.sqrt(n**2+o**2)}class Si{constructor(t,n,{transformPagePoint:o}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const l=ln(this.lastMoveEventInfo,this.history),u=this.startEvent!==null,f=Gl(l.offset,{x:0,y:0})>=3;if(!u&&!f)return;const{point:d}=l,{timestamp:h}=ce;this.history.push({...d,timestamp:h});const{onStart:m,onMove:g}=this.handlers;u||(m&&m(this.lastMoveEvent,l),this.startEvent=this.lastMoveEvent),g&&g(this.lastMoveEvent,l)},this.handlePointerMove=(l,u)=>{this.lastMoveEvent=l,this.lastMoveEventInfo=an(u,this.transformPagePoint),j.update(this.updatePoint,!0)},this.handlePointerUp=(l,u)=>{if(this.end(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const{onEnd:f,onSessionEnd:d}=this.handlers,h=ln(l.type==="pointercancel"?this.lastMoveEventInfo:an(u,this.transformPagePoint),this.history);this.startEvent&&f&&f(l,h),d&&d(l,h)},!Gr(t))return;this.handlers=n,this.transformPagePoint=o;const r=Yt(t),s=an(r,this.transformPagePoint),{point:i}=s,{timestamp:a}=ce;this.history=[{...i,timestamp:a}];const{onSessionStart:c}=n;c&&c(t,ln(s,this.history)),this.removeListeners=Pe(me(window,"pointermove",this.handlePointerMove),me(window,"pointerup",this.handlePointerUp),me(window,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),we.update(this.updatePoint)}}function an(e,t){return t?{point:t(e.point)}:e}function No(e,t){return{x:e.x-t.x,y:e.y-t.y}}function ln({point:e},t){return{point:e,delta:No(e,wi(t)),offset:No(e,Wl(t)),velocity:Kl(t,.1)}}function Wl(e){return e[0]}function wi(e){return e[e.length-1]}function Kl(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,o=null;const r=wi(e);for(;n>=0&&(o=e[n],!(r.timestamp-o.timestamp>Se(t)));)n--;if(!o)return{x:0,y:0};const s=We(r.timestamp-o.timestamp);if(s===0)return{x:0,y:0};const i={x:(r.x-o.x)/s,y:(r.y-o.y)/s};return i.x===1/0&&(i.x=0),i.y===1/0&&(i.y=0),i}function ne(e){return e.max-e.min}function Vn(e,t=0,n=.01){return Math.abs(e-t)<=n}function Fo(e,t,n,o=.5){e.origin=o,e.originPoint=U(t.min,t.max,e.origin),e.scale=ne(n)/ne(t),(Vn(e.scale,1,1e-4)||isNaN(e.scale))&&(e.scale=1),e.translate=U(n.min,n.max,e.origin)-e.originPoint,(Vn(e.translate)||isNaN(e.translate))&&(e.translate=0)}function ot(e,t,n,o){Fo(e.x,t.x,n.x,o?o.originX:void 0),Fo(e.y,t.y,n.y,o?o.originY:void 0)}function Bo(e,t,n){e.min=n.min+t.min,e.max=e.min+ne(t)}function ql(e,t,n){Bo(e.x,t.x,n.x),Bo(e.y,t.y,n.y)}function jo(e,t,n){e.min=t.min-n.min,e.max=e.min+ne(t)}function rt(e,t,n){jo(e.x,t.x,n.x),jo(e.y,t.y,n.y)}function Yl(e,{min:t,max:n},o){return t!==void 0&&e<t?e=o?U(t,e,o.min):Math.max(e,t):n!==void 0&&e>n&&(e=o?U(n,e,o.max):Math.min(e,n)),e}function $o(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function Xl(e,{top:t,left:n,bottom:o,right:r}){return{x:$o(e.x,n,r),y:$o(e.y,t,o)}}function _o(e,t){let n=t.min-e.min,o=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,o]=[o,n]),{min:n,max:o}}function Zl(e,t){return{x:_o(e.x,t.x),y:_o(e.y,t.y)}}function Ql(e,t){let n=.5;const o=ne(e),r=ne(t);return r>o?n=dt(t.min,t.max-o,e.min):o>r&&(n=dt(e.min,e.max-r,t.min)),Ee(0,1,n)}function Jl(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const On=.35;function ec(e=On){return e===!1?e=0:e===!0&&(e=On),{x:Uo(e,"left","right"),y:Uo(e,"top","bottom")}}function Uo(e,t,n){return{min:Ho(e,t),max:Ho(e,n)}}function Ho(e,t){return typeof e=="number"?e:e[t]||0}const zo=()=>({translate:0,scale:1,origin:0,originPoint:0}),it=()=>({x:zo(),y:zo()}),Go=()=>({min:0,max:0}),z=()=>({x:Go(),y:Go()});function de(e){return[e("x"),e("y")]}function Ti({top:e,left:t,right:n,bottom:o}){return{x:{min:t,max:n},y:{min:e,max:o}}}function tc({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function nc(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),o=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:o.y,right:o.x}}function cn(e){return e===void 0||e===1}function Ln({scale:e,scaleX:t,scaleY:n}){return!cn(e)||!cn(t)||!cn(n)}function Ae(e){return Ln(e)||Ci(e)||e.z||e.rotate||e.rotateX||e.rotateY}function Ci(e){return Wo(e.x)||Wo(e.y)}function Wo(e){return e&&e!=="0%"}function jt(e,t,n){const o=e-n,r=t*o;return n+r}function Ko(e,t,n,o,r){return r!==void 0&&(e=jt(e,r,o)),jt(e,n,o)+t}function Dn(e,t=0,n=1,o,r){e.min=Ko(e.min,t,n,o,r),e.max=Ko(e.max,t,n,o,r)}function Ri(e,{x:t,y:n}){Dn(e.x,t.translate,t.scale,t.originPoint),Dn(e.y,n.translate,n.scale,n.originPoint)}function oc(e,t,n,o=!1){const r=n.length;if(!r)return;t.x=t.y=1;let s,i;for(let a=0;a<r;a++){s=n[a],i=s.projectionDelta;const c=s.instance;c&&c.style&&c.style.display==="contents"||(o&&s.options.layoutScroll&&s.scroll&&s!==s.root&&He(e,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),i&&(t.x*=i.x.scale,t.y*=i.y.scale,Ri(e,i)),o&&Ae(s.latestValues)&&He(e,s.latestValues))}t.x=qo(t.x),t.y=qo(t.y)}function qo(e){return Number.isInteger(e)||e>1.0000000000001||e<.999999999999?e:1}function xe(e,t){e.min=e.min+t,e.max=e.max+t}function Yo(e,t,[n,o,r]){const s=t[r]!==void 0?t[r]:.5,i=U(e.min,e.max,s);Dn(e,t[n],t[o],i,t.scale)}const rc=["x","scaleX","originX"],ic=["y","scaleY","originY"];function He(e,t){Yo(e.x,t,rc),Yo(e.y,t,ic)}function Ai(e,t){return Ti(nc(e.getBoundingClientRect(),t))}function sc(e,t,n){const o=Ai(e,n),{scroll:r}=t;return r&&(xe(o.x,r.offset.x),xe(o.y,r.offset.y)),o}const ac=new WeakMap;class lc{constructor(t){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=z(),this.visualElement=t}start(t,{snapToCursor:n=!1}={}){const{presenceContext:o}=this.visualElement;if(o&&o.isPresent===!1)return;const r=c=>{this.stopAnimation(),n&&this.snapToCursor(Yt(c,"page").point)},s=(c,l)=>{const{drag:u,dragPropagation:f,onDragStart:d}=this.getProps();if(u&&!f&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=Kr(u),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),de(m=>{let g=this.getAxisMotionValue(m).get()||0;if(fe.test(g)){const{projection:y}=this.visualElement;if(y&&y.layout){const x=y.layout.layoutBox[m];x&&(g=ne(x)*(parseFloat(g)/100))}}this.originPoint[m]=g}),d&&j.update(()=>d(c,l));const{animationState:h}=this.visualElement;h&&h.setActive("whileDrag",!0)},i=(c,l)=>{const{dragPropagation:u,dragDirectionLock:f,onDirectionLock:d,onDrag:h}=this.getProps();if(!u&&!this.openGlobalLock)return;const{offset:m}=l;if(f&&this.currentDirection===null){this.currentDirection=cc(m),this.currentDirection!==null&&d&&d(this.currentDirection);return}this.updateAxis("x",l.point,m),this.updateAxis("y",l.point,m),this.visualElement.render(),h&&h(c,l)},a=(c,l)=>this.stop(c,l);this.panSession=new Si(t,{onSessionStart:r,onStart:s,onMove:i,onSessionEnd:a},{transformPagePoint:this.visualElement.getTransformPagePoint()})}stop(t,n){const o=this.isDragging;if(this.cancel(),!o)return;const{velocity:r}=n;this.startAnimation(r);const{onDragEnd:s}=this.getProps();s&&j.update(()=>s(t,n))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:o}=this.getProps();!o&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,o){const{drag:r}=this.getProps();if(!o||!Tt(t,r,this.currentDirection))return;const s=this.getAxisMotionValue(t);let i=this.originPoint[t]+o[t];this.constraints&&this.constraints[t]&&(i=Yl(i,this.constraints[t],this.elastic[t])),s.set(i)}resolveConstraints(){const{dragConstraints:t,dragElastic:n}=this.getProps(),{layout:o}=this.visualElement.projection||{},r=this.constraints;t&&_e(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&o?this.constraints=Xl(o.layoutBox,t):this.constraints=!1,this.elastic=ec(n),r!==this.constraints&&o&&this.constraints&&!this.hasMutatedConstraints&&de(s=>{this.getAxisMotionValue(s)&&(this.constraints[s]=Jl(o.layoutBox[s],this.constraints[s]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!_e(t))return!1;const o=t.current,{projection:r}=this.visualElement;if(!r||!r.layout)return!1;const s=sc(o,r.root,this.visualElement.getTransformPagePoint());let i=Zl(r.layout.layoutBox,s);if(n){const a=n(tc(i));this.hasMutatedConstraints=!!a,a&&(i=Ti(a))}return i}startAnimation(t){const{drag:n,dragMomentum:o,dragElastic:r,dragTransition:s,dragSnapToOrigin:i,onDragTransitionEnd:a}=this.getProps(),c=this.constraints||{},l=de(u=>{if(!Tt(u,n,this.currentDirection))return;let f=c&&c[u]||{};i&&(f={min:0,max:0});const d=r?200:1e6,h=r?40:1e7,m={type:"inertia",velocity:o?t[u]:0,bounceStiffness:d,bounceDamping:h,timeConstant:750,restDelta:1,restSpeed:10,...s,...f};return this.startAxisValueAnimation(u,m)});return Promise.all(l).then(a)}startAxisValueAnimation(t,n){const o=this.getAxisMotionValue(t);return o.start(io(t,o,0,n))}stopAnimation(){de(t=>this.getAxisMotionValue(t).stop())}getAxisMotionValue(t){const n="_drag"+t.toUpperCase(),o=this.visualElement.getProps(),r=o[n];return r||this.visualElement.getValue(t,(o.initial?o.initial[t]:void 0)||0)}snapToCursor(t){de(n=>{const{drag:o}=this.getProps();if(!Tt(n,o,this.currentDirection))return;const{projection:r}=this.visualElement,s=this.getAxisMotionValue(n);if(r&&r.layout){const{min:i,max:a}=r.layout.layoutBox[n];s.set(t[n]-U(i,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:o}=this.visualElement;if(!_e(n)||!o||!this.constraints)return;this.stopAnimation();const r={x:0,y:0};de(i=>{const a=this.getAxisMotionValue(i);if(a){const c=a.get();r[i]=Ql({min:c,max:c},this.constraints[i])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",o.root&&o.root.updateScroll(),o.updateLayout(),this.resolveConstraints(),de(i=>{if(!Tt(i,t,null))return;const a=this.getAxisMotionValue(i),{min:c,max:l}=this.constraints[i];a.set(U(c,l,r[i]))})}addListeners(){if(!this.visualElement.current)return;ac.set(this.visualElement,this);const t=this.visualElement.current,n=me(t,"pointerdown",c=>{const{drag:l,dragListener:u=!0}=this.getProps();l&&u&&this.start(c)}),o=()=>{const{dragConstraints:c}=this.getProps();_e(c)&&(this.constraints=this.resolveRefConstraints())},{projection:r}=this.visualElement,s=r.addEventListener("measure",o);r&&!r.layout&&(r.root&&r.root.updateScroll(),r.updateLayout()),o();const i=pe(window,"resize",()=>this.scalePositionWithinConstraints()),a=r.addEventListener("didUpdate",({delta:c,hasLayoutChanged:l})=>{this.isDragging&&l&&(de(u=>{const f=this.getAxisMotionValue(u);f&&(this.originPoint[u]+=c[u].translate,f.set(f.get()+c[u].translate))}),this.visualElement.render())});return()=>{i(),n(),s(),a&&a()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:o=!1,dragPropagation:r=!1,dragConstraints:s=!1,dragElastic:i=On,dragMomentum:a=!0}=t;return{...t,drag:n,dragDirectionLock:o,dragPropagation:r,dragConstraints:s,dragElastic:i,dragMomentum:a}}}function Tt(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function cc(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class uc extends Ce{constructor(t){super(t),this.removeGroupControls=X,this.removeListeners=X,this.controls=new lc(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||X}unmount(){this.removeGroupControls(),this.removeListeners()}}const Xo=e=>(t,n)=>{e&&j.update(()=>e(t,n))};class dc extends Ce{constructor(){super(...arguments),this.removePointerDownListener=X}onPointerDown(t){this.session=new Si(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint()})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:o,onPanEnd:r}=this.node.getProps();return{onSessionStart:Xo(t),onStart:Xo(n),onMove:o,onEnd:(s,i)=>{delete this.session,r&&j.update(()=>r(s,i))}}}mount(){this.removePointerDownListener=me(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function fc(){const e=p.useContext(zt);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:n,register:o}=e,r=p.useId();return p.useEffect(()=>o(r),[]),!t&&n?[!1,()=>n&&n(r)]:[!0]}function Zo(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Ze={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(D.test(e))e=parseFloat(e);else return e;const n=Zo(e,t.target.x),o=Zo(e,t.target.y);return`${n}% ${o}%`}},Vi=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function hc(e){const t=Vi.exec(e);if(!t)return[,];const[,n,o]=t;return[n,o]}function En(e,t,n=1){const[o,r]=hc(e);if(!o)return;const s=window.getComputedStyle(t).getPropertyValue(o);return s?s.trim():vn(r)?En(r,t,n+1):r}function pc(e,{...t},n){const o=e.current;if(!(o instanceof Element))return{target:t,transitionEnd:n};n&&(n={...n}),e.values.forEach(r=>{const s=r.get();if(!vn(s))return;const i=En(s,o);i&&r.set(i)});for(const r in t){const s=t[r];if(!vn(s))continue;const i=En(s,o);i&&(t[r]=i,n||(n={}),n[r]===void 0&&(n[r]=s))}return{target:t,transitionEnd:n}}const Qo="_$css",mc={correct:(e,{treeScale:t,projectionDelta:n})=>{const o=e,r=e.includes("var("),s=[];r&&(e=e.replace(Vi,h=>(s.push(h),Qo)));const i=Te.parse(e);if(i.length>5)return o;const a=Te.createTransformer(e),c=typeof i[0]!="number"?1:0,l=n.x.scale*t.x,u=n.y.scale*t.y;i[0+c]/=l,i[1+c]/=u;const f=U(l,u,.5);typeof i[2+c]=="number"&&(i[2+c]/=f),typeof i[3+c]=="number"&&(i[3+c]/=f);let d=a(i);if(r){let h=0;d=d.replace(Qo,()=>{const m=s[h];return h++,m})}return d}};class gc extends $.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:o,layoutId:r}=this.props,{projection:s}=t;bs(yc),s&&(n.group&&n.group.add(s),o&&o.register&&r&&o.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),et.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:o,drag:r,isPresent:s}=this.props,i=o.projection;return i&&(i.isPresent=s,r||t.layoutDependency!==n||n===void 0?i.willUpdate():this.safeToRemove(),t.isPresent!==s&&(s?i.promote():i.relegate()||j.postRender(()=>{const a=i.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),!t.currentAnimation&&t.isLead()&&this.safeToRemove())}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:o}=this.props,{projection:r}=t;r&&(r.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(r),o&&o.deregister&&o.deregister(r))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function Oi(e){const[t,n]=fc(),o=p.useContext(jn);return $.createElement(gc,{...e,layoutGroup:o,switchLayoutGroup:p.useContext(Er),isPresent:t,safeToRemove:n})}const yc={borderRadius:{...Ze,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Ze,borderTopRightRadius:Ze,borderBottomLeftRadius:Ze,borderBottomRightRadius:Ze,boxShadow:mc};class vc{constructor(t){this.animations=t.filter(Boolean)}then(t,n){return Promise.all(this.animations).then(t).catch(n)}get time(){return this.animations[0].time}set time(t){for(let n=0;n<this.animations.length;n++)this.animations[n].time=t}runAll(t){this.animations.forEach(n=>n[t]())}play(){this.runAll("play")}pause(){this.runAll("pause")}stop(){this.runAll("stop")}}function bc(e,t,n={}){const o=J(e)?e:Ge(e);return o.start(io("",o,t,n)),o.animation||new vc([])}const Li=["TopLeft","TopRight","BottomLeft","BottomRight"],xc=Li.length,Jo=e=>typeof e=="string"?parseFloat(e):e,er=e=>typeof e=="number"||D.test(e);function Pc(e,t,n,o,r,s){r?(e.opacity=U(0,n.opacity!==void 0?n.opacity:1,Sc(o)),e.opacityExit=U(t.opacity!==void 0?t.opacity:1,0,wc(o))):s&&(e.opacity=U(t.opacity!==void 0?t.opacity:1,n.opacity!==void 0?n.opacity:1,o));for(let i=0;i<xc;i++){const a=`border${Li[i]}Radius`;let c=tr(t,a),l=tr(n,a);if(c===void 0&&l===void 0)continue;c||(c=0),l||(l=0),c===0||l===0||er(c)===er(l)?(e[a]=Math.max(U(Jo(c),Jo(l),o),0),(fe.test(l)||fe.test(c))&&(e[a]+="%")):e[a]=l}(t.rotate||n.rotate)&&(e.rotate=U(t.rotate||0,n.rotate||0,o))}function tr(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const Sc=Di(0,.5,oo),wc=Di(.5,.95,X);function Di(e,t,n){return o=>o<e?0:o>t?1:n(dt(e,t,o))}function nr(e,t){e.min=t.min,e.max=t.max}function ie(e,t){nr(e.x,t.x),nr(e.y,t.y)}function or(e,t,n,o,r){return e-=t,e=jt(e,1/n,o),r!==void 0&&(e=jt(e,1/r,o)),e}function Tc(e,t=0,n=1,o=.5,r,s=e,i=e){if(fe.test(t)&&(t=parseFloat(t),t=U(i.min,i.max,t/100)-i.min),typeof t!="number")return;let a=U(s.min,s.max,o);e===s&&(a-=t),e.min=or(e.min,t,n,a,r),e.max=or(e.max,t,n,a,r)}function rr(e,t,[n,o,r],s,i){Tc(e,t[n],t[o],t[r],t.scale,s,i)}const Cc=["x","scaleX","originX"],Rc=["y","scaleY","originY"];function ir(e,t,n,o){rr(e.x,t,Cc,n?n.x:void 0,o?o.x:void 0),rr(e.y,t,Rc,n?n.y:void 0,o?o.y:void 0)}function sr(e){return e.translate===0&&e.scale===1}function Ei(e){return sr(e.x)&&sr(e.y)}function kn(e,t){return e.x.min===t.x.min&&e.x.max===t.x.max&&e.y.min===t.y.min&&e.y.max===t.y.max}function ar(e){return ne(e.x)/ne(e.y)}class Ac{constructor(){this.members=[]}add(t){qn(this.members,t),t.scheduleRender()}remove(t){if(Yn(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(r=>t===r);if(n===0)return!1;let o;for(let r=n;r>=0;r--){const s=this.members[r];if(s.isPresent!==!1){o=s;break}}return o?(this.promote(o),!0):!1}promote(t,n){const o=this.lead;if(t!==o&&(this.prevLead=o,this.lead=t,t.show(),o)){o.instance&&o.scheduleRender(),t.scheduleRender(),t.resumeFrom=o,n&&(t.resumeFrom.preserveOpacity=!0),o.snapshot&&(t.snapshot=o.snapshot,t.snapshot.latestValues=o.animationValues||o.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:r}=t.options;r===!1&&o.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:o}=t;n.onExitComplete&&n.onExitComplete(),o&&o.options.onExitComplete&&o.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function lr(e,t,n){let o="";const r=e.x.translate/t.x,s=e.y.translate/t.y;if((r||s)&&(o=`translate3d(${r}px, ${s}px, 0) `),(t.x!==1||t.y!==1)&&(o+=`scale(${1/t.x}, ${1/t.y}) `),n){const{rotate:c,rotateX:l,rotateY:u}=n;c&&(o+=`rotate(${c}deg) `),l&&(o+=`rotateX(${l}deg) `),u&&(o+=`rotateY(${u}deg) `)}const i=e.x.scale*t.x,a=e.y.scale*t.y;return(i!==1||a!==1)&&(o+=`scale(${i}, ${a})`),o||"none"}const Vc=(e,t)=>e.depth-t.depth;class Oc{constructor(){this.children=[],this.isDirty=!1}add(t){qn(this.children,t),this.isDirty=!0}remove(t){Yn(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(Vc),this.isDirty=!1,this.children.forEach(t)}}function Lc(e,t){const n=performance.now(),o=({timestamp:r})=>{const s=r-n;s>=t&&(we.read(o),e(s-t))};return j.read(o,!0),()=>we.read(o)}function Dc(e){window.MotionDebug&&window.MotionDebug.record(e)}const cr=["","X","Y","Z"],ur=1e3;let Ec=0;const Ve={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function ki({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:o,resetTransform:r}){return class{constructor(i,a={},c=t==null?void 0:t()){this.id=Ec++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.potentialNodes=new Map,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{Ve.totalNodes=Ve.resolvedTargetDeltas=Ve.recalculatedProjection=0,this.nodes.forEach(Ic),this.nodes.forEach(jc),this.nodes.forEach($c),this.nodes.forEach(Nc),Dc(Ve)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.elementId=i,this.latestValues=a,this.root=c?c.root||c:this,this.path=c?[...c.path,c]:[],this.parent=c,this.depth=c?c.depth+1:0,i&&this.root.registerPotentialNode(i,this);for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new Oc)}addEventListener(i,a){return this.eventHandlers.has(i)||this.eventHandlers.set(i,new Xn),this.eventHandlers.get(i).add(a)}notifyListeners(i,...a){const c=this.eventHandlers.get(i);c&&c.notify(...a)}hasListeners(i){return this.eventHandlers.has(i)}registerPotentialNode(i,a){this.potentialNodes.set(i,a)}mount(i,a=!1){if(this.instance)return;this.isSVG=i instanceof SVGElement&&i.tagName!=="svg",this.instance=i;const{layoutId:c,layout:l,visualElement:u}=this.options;if(u&&!u.current&&u.mount(i),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.elementId&&this.root.potentialNodes.delete(this.elementId),a&&(l||c)&&(this.isLayoutDirty=!0),e){let f;const d=()=>this.root.updateBlockedByResize=!1;e(i,()=>{this.root.updateBlockedByResize=!0,f&&f(),f=Lc(d,250),et.hasAnimatedSinceResize&&(et.hasAnimatedSinceResize=!1,this.nodes.forEach(fr))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&u&&(c||l)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:d,hasRelativeTargetChanged:h,layout:m})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const g=this.options.transition||u.getDefaultTransition()||Gc,{onLayoutAnimationStart:y,onLayoutAnimationComplete:x}=u.getProps(),P=!this.targetLayout||!kn(this.targetLayout,m)||h,b=!d&&h;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||b||d&&(P||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(f,b);const S={...xi(g,"layout"),onPlay:y,onComplete:x};(u.shouldReduceMotion||this.options.layoutRoot)&&(S.delay=0,S.type=!1),this.startAnimation(S)}else!d&&this.animationProgress===0&&fr(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=m})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const i=this.getStack();i&&i.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,we.preRender(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(_c),this.animationId++)}getTransformTemplate(){const{visualElement:i}=this.options;return i&&i.getProps().transformTemplate}willUpdate(i=!0){if(this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const f=this.path[u];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:a,layout:c}=this.options;if(a===void 0&&!c)return;const l=this.getTransformTemplate();this.prevTransformTemplateValue=l?l(this.latestValues,""):void 0,this.updateSnapshot(),i&&this.notifyListeners("willUpdate")}didUpdate(){if(this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(dr);return}this.isUpdating&&(this.isUpdating=!1,this.potentialNodes.size&&(this.potentialNodes.forEach(Wc),this.potentialNodes.clear()),this.nodes.forEach(Bc),this.nodes.forEach(kc),this.nodes.forEach(Mc),this.clearAllSnapshots(),Qt.update(),Qt.preRender(),Qt.render())}clearAllSnapshots(){this.nodes.forEach(Fc),this.sharedNodes.forEach(Uc)}scheduleUpdateProjection(){j.preRender(this.updateProjection,!1,!0)}scheduleCheckAfterUnmount(){j.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const i=this.layout;this.layout=this.measure(!1),this.layoutCorrected=z(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,i?i.layoutBox:void 0)}updateScroll(i="measure"){let a=Boolean(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===i&&(a=!1),a&&(this.scroll={animationId:this.root.animationId,phase:i,isRoot:o(this.instance),offset:n(this.instance)})}resetTransform(){if(!r)return;const i=this.isLayoutDirty||this.shouldResetTransform,a=this.projectionDelta&&!Ei(this.projectionDelta),c=this.getTransformTemplate(),l=c?c(this.latestValues,""):void 0,u=l!==this.prevTransformTemplateValue;i&&(a||Ae(this.latestValues)||u)&&(r(this.instance,l),this.shouldResetTransform=!1,this.scheduleRender())}measure(i=!0){const a=this.measurePageBox();let c=this.removeElementScroll(a);return i&&(c=this.removeTransform(c)),Kc(c),{animationId:this.root.animationId,measuredBox:a,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:i}=this.options;if(!i)return z();const a=i.measureViewportBox(),{scroll:c}=this.root;return c&&(xe(a.x,c.offset.x),xe(a.y,c.offset.y)),a}removeElementScroll(i){const a=z();ie(a,i);for(let c=0;c<this.path.length;c++){const l=this.path[c],{scroll:u,options:f}=l;if(l!==this.root&&u&&f.layoutScroll){if(u.isRoot){ie(a,i);const{scroll:d}=this.root;d&&(xe(a.x,-d.offset.x),xe(a.y,-d.offset.y))}xe(a.x,u.offset.x),xe(a.y,u.offset.y)}}return a}applyTransform(i,a=!1){const c=z();ie(c,i);for(let l=0;l<this.path.length;l++){const u=this.path[l];!a&&u.options.layoutScroll&&u.scroll&&u!==u.root&&He(c,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),Ae(u.latestValues)&&He(c,u.latestValues)}return Ae(this.latestValues)&&He(c,this.latestValues),c}removeTransform(i){const a=z();ie(a,i);for(let c=0;c<this.path.length;c++){const l=this.path[c];if(!l.instance||!Ae(l.latestValues))continue;Ln(l.latestValues)&&l.updateSnapshot();const u=z(),f=l.measurePageBox();ie(u,f),ir(a,l.latestValues,l.snapshot?l.snapshot.layoutBox:void 0,u)}return Ae(this.latestValues)&&ir(a,this.latestValues),a}setTargetDelta(i){this.targetDelta=i,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(i){this.options={...this.options,...i,crossfade:i.crossfade!==void 0?i.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}resolveTargetDelta(i=!1){var a;const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const l=Boolean(this.resumingFrom)||this!==c;if(!(i||l&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:f,layoutId:d}=this.options;if(!(!this.layout||!(f||d))){if(this.resolvedRelativeTargetAt=ce.timestamp,!this.targetDelta&&!this.relativeTarget){const h=this.getClosestProjectingParent();h&&h.layout?(this.relativeParent=h,this.relativeTarget=z(),this.relativeTargetOrigin=z(),rt(this.relativeTargetOrigin,this.layout.layoutBox,h.layout.layoutBox),ie(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=z(),this.targetWithTransforms=z()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.relativeParent.resolvedRelativeTargetAt!==ce.timestamp&&this.relativeParent.resolveTargetDelta(!0),ql(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(Boolean(this.resumingFrom)?this.target=this.applyTransform(this.layout.layoutBox):ie(this.target,this.layout.layoutBox),Ri(this.target,this.targetDelta)):ie(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const h=this.getClosestProjectingParent();h&&Boolean(h.resumingFrom)===Boolean(this.resumingFrom)&&!h.options.layoutScroll&&h.target?(this.relativeParent=h,this.relativeTarget=z(),this.relativeTargetOrigin=z(),rt(this.relativeTargetOrigin,this.target,h.target),ie(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Ve.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||Ln(this.parent.latestValues)||Ci(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return Boolean((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var i;const a=this.getLead(),c=Boolean(this.resumingFrom)||this!==a;let l=!0;if((this.isProjectionDirty||!((i=this.parent)===null||i===void 0)&&i.isProjectionDirty)&&(l=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(l=!1),this.resolvedRelativeTargetAt===ce.timestamp&&(l=!1),l)return;const{layout:u,layoutId:f}=this.options;if(this.isTreeAnimating=Boolean(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||f))return;ie(this.layoutCorrected,this.layout.layoutBox),oc(this.layoutCorrected,this.treeScale,this.path,c);const{target:d}=a;if(!d)return;this.projectionDelta||(this.projectionDelta=it(),this.projectionDeltaWithTransform=it());const h=this.treeScale.x,m=this.treeScale.y,g=this.projectionTransform;ot(this.projectionDelta,this.layoutCorrected,d,this.latestValues),this.projectionTransform=lr(this.projectionDelta,this.treeScale),(this.projectionTransform!==g||this.treeScale.x!==h||this.treeScale.y!==m)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",d)),Ve.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(i=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),i){const a=this.getStack();a&&a.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(i,a=!1){const c=this.snapshot,l=c?c.latestValues:{},u={...this.latestValues},f=it();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const d=z(),h=c?c.source:void 0,m=this.layout?this.layout.source:void 0,g=h!==m,y=this.getStack(),x=!y||y.members.length<=1,P=Boolean(g&&!x&&this.options.crossfade===!0&&!this.path.some(zc));this.animationProgress=0;let b;this.mixTargetDelta=S=>{const C=S/1e3;hr(f.x,i.x,C),hr(f.y,i.y,C),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(rt(d,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Hc(this.relativeTarget,this.relativeTargetOrigin,d,C),b&&kn(this.relativeTarget,b)&&(this.isProjectionDirty=!1),b||(b=z()),ie(b,this.relativeTarget)),g&&(this.animationValues=u,Pc(u,l,this.latestValues,C,P,x)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=C},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(i){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(we.update(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=j.update(()=>{et.hasAnimatedSinceResize=!0,this.currentAnimation=bc(0,ur,{...i,onUpdate:a=>{this.mixTargetDelta(a),i.onUpdate&&i.onUpdate(a)},onComplete:()=>{i.onComplete&&i.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const i=this.getStack();i&&i.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(ur),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const i=this.getLead();let{targetWithTransforms:a,target:c,layout:l,latestValues:u}=i;if(!(!a||!c||!l)){if(this!==i&&this.layout&&l&&Mi(this.options.animationType,this.layout.layoutBox,l.layoutBox)){c=this.target||z();const f=ne(this.layout.layoutBox.x);c.x.min=i.target.x.min,c.x.max=c.x.min+f;const d=ne(this.layout.layoutBox.y);c.y.min=i.target.y.min,c.y.max=c.y.min+d}ie(a,c),He(a,u),ot(this.projectionDeltaWithTransform,this.layoutCorrected,a,u)}}registerSharedNode(i,a){this.sharedNodes.has(i)||this.sharedNodes.set(i,new Ac),this.sharedNodes.get(i).add(a);const l=a.options.initialPromotionConfig;a.promote({transition:l?l.transition:void 0,preserveFollowOpacity:l&&l.shouldPreserveFollowOpacity?l.shouldPreserveFollowOpacity(a):void 0})}isLead(){const i=this.getStack();return i?i.lead===this:!0}getLead(){var i;const{layoutId:a}=this.options;return a?((i=this.getStack())===null||i===void 0?void 0:i.lead)||this:this}getPrevLead(){var i;const{layoutId:a}=this.options;return a?(i=this.getStack())===null||i===void 0?void 0:i.prevLead:void 0}getStack(){const{layoutId:i}=this.options;if(i)return this.root.sharedNodes.get(i)}promote({needsReset:i,transition:a,preserveFollowOpacity:c}={}){const l=this.getStack();l&&l.promote(this,c),i&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const i=this.getStack();return i?i.relegate(this):!1}resetRotation(){const{visualElement:i}=this.options;if(!i)return;let a=!1;const{latestValues:c}=i;if((c.rotate||c.rotateX||c.rotateY||c.rotateZ)&&(a=!0),!a)return;const l={};for(let u=0;u<cr.length;u++){const f="rotate"+cr[u];c[f]&&(l[f]=c[f],i.setStaticValue(f,0))}i.render();for(const u in l)i.setStaticValue(u,l[u]);i.scheduleRender()}getProjectionStyles(i={}){var a,c;const l={};if(!this.instance||this.isSVG)return l;if(this.isVisible)l.visibility="";else return{visibility:"hidden"};const u=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,l.opacity="",l.pointerEvents=Ot(i.pointerEvents)||"",l.transform=u?u(this.latestValues,""):"none",l;const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){const g={};return this.options.layoutId&&(g.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,g.pointerEvents=Ot(i.pointerEvents)||""),this.hasProjected&&!Ae(this.latestValues)&&(g.transform=u?u({},""):"none",this.hasProjected=!1),g}const d=f.animationValues||f.latestValues;this.applyTransformsToTarget(),l.transform=lr(this.projectionDeltaWithTransform,this.treeScale,d),u&&(l.transform=u(d,l.transform));const{x:h,y:m}=this.projectionDelta;l.transformOrigin=`${h.origin*100}% ${m.origin*100}% 0`,f.animationValues?l.opacity=f===this?(c=(a=d.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&c!==void 0?c:1:this.preserveOpacity?this.latestValues.opacity:d.opacityExit:l.opacity=f===this?d.opacity!==void 0?d.opacity:"":d.opacityExit!==void 0?d.opacityExit:0;for(const g in Dt){if(d[g]===void 0)continue;const{correct:y,applyTo:x}=Dt[g],P=l.transform==="none"?d[g]:y(d[g],f);if(x){const b=x.length;for(let S=0;S<b;S++)l[x[S]]=P}else l[g]=P}return this.options.layoutId&&(l.pointerEvents=f===this?Ot(i.pointerEvents)||"":"none"),l}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(i=>{var a;return(a=i.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(dr),this.root.sharedNodes.clear()}}}function kc(e){e.updateLayout()}function Mc(e){var t;const n=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){const{layoutBox:o,measuredBox:r}=e.layout,{animationType:s}=e.options,i=n.source!==e.layout.source;s==="size"?de(f=>{const d=i?n.measuredBox[f]:n.layoutBox[f],h=ne(d);d.min=o[f].min,d.max=d.min+h}):Mi(s,n.layoutBox,o)&&de(f=>{const d=i?n.measuredBox[f]:n.layoutBox[f],h=ne(o[f]);d.max=d.min+h});const a=it();ot(a,o,n.layoutBox);const c=it();i?ot(c,e.applyTransform(r,!0),n.measuredBox):ot(c,o,n.layoutBox);const l=!Ei(a);let u=!1;if(!e.resumeFrom){const f=e.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:d,layout:h}=f;if(d&&h){const m=z();rt(m,n.layoutBox,d.layoutBox);const g=z();rt(g,o,h.layoutBox),kn(m,g)||(u=!0),f.options.layoutRoot&&(e.relativeTarget=g,e.relativeTargetOrigin=m,e.relativeParent=f)}}}e.notifyListeners("didUpdate",{layout:o,snapshot:n,delta:c,layoutDelta:a,hasLayoutChanged:l,hasRelativeTargetChanged:u})}else if(e.isLead()){const{onExitComplete:o}=e.options;o&&o()}e.options.transition=void 0}function Ic(e){Ve.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=Boolean(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function Nc(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function Fc(e){e.clearSnapshot()}function dr(e){e.clearMeasurements()}function Bc(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function fr(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0}function jc(e){e.resolveTargetDelta()}function $c(e){e.calcProjection()}function _c(e){e.resetRotation()}function Uc(e){e.removeLeadSnapshot()}function hr(e,t,n){e.translate=U(t.translate,0,n),e.scale=U(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function pr(e,t,n,o){e.min=U(t.min,n.min,o),e.max=U(t.max,n.max,o)}function Hc(e,t,n,o){pr(e.x,t.x,n.x,o),pr(e.y,t.y,n.y,o)}function zc(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const Gc={duration:.45,ease:[.4,0,.1,1]};function Wc(e,t){let n=e.root;for(let s=e.path.length-1;s>=0;s--)if(Boolean(e.path[s].instance)){n=e.path[s];break}const r=(n&&n!==e.root?n.instance:document).querySelector(`[data-projection-id="${t}"]`);r&&e.mount(r,!0)}function mr(e){e.min=Math.round(e.min),e.max=Math.round(e.max)}function Kc(e){mr(e.x),mr(e.y)}function Mi(e,t,n){return e==="position"||e==="preserve-aspect"&&!Vn(ar(t),ar(n),.2)}const qc=ki({attachResizeListener:(e,t)=>pe(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),un={current:void 0},Ii=ki({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!un.current){const e=new qc(0,{});e.mount(window),e.setOptions({layoutScroll:!0}),un.current=e}return un.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>Boolean(window.getComputedStyle(e).position==="fixed")}),Yc={pan:{Feature:dc},drag:{Feature:uc,ProjectionNode:Ii,MeasureLayout:Oi}},Xc=new Set(["width","height","top","left","right","bottom","x","y"]),Ni=e=>Xc.has(e),Zc=e=>Object.keys(e).some(Ni),gr=e=>e===Ne||e===D,yr=(e,t)=>parseFloat(e.split(", ")[t]),vr=(e,t)=>(n,{transform:o})=>{if(o==="none"||!o)return 0;const r=o.match(/^matrix3d\((.+)\)$/);if(r)return yr(r[1],t);{const s=o.match(/^matrix\((.+)\)$/);return s?yr(s[1],e):0}},Qc=new Set(["x","y","z"]),Jc=qt.filter(e=>!Qc.has(e));function eu(e){const t=[];return Jc.forEach(n=>{const o=e.getValue(n);o!==void 0&&(t.push([n,o.get()]),o.set(n.startsWith("scale")?1:0))}),t.length&&e.render(),t}const br={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:vr(4,13),y:vr(5,14)},tu=(e,t,n)=>{const o=t.measureViewportBox(),r=t.current,s=getComputedStyle(r),{display:i}=s,a={};i==="none"&&t.setStaticValue("display",e.display||"block"),n.forEach(l=>{a[l]=br[l](o,s)}),t.render();const c=t.measureViewportBox();return n.forEach(l=>{const u=t.getValue(l);u&&u.jump(a[l]),e[l]=br[l](c,s)}),e},nu=(e,t,n={},o={})=>{t={...t},o={...o};const r=Object.keys(t).filter(Ni);let s=[],i=!1;const a=[];if(r.forEach(c=>{const l=e.getValue(c);if(!e.hasValue(c))return;let u=n[c],f=Xe(u);const d=t[c];let h;if(kt(d)){const m=d.length,g=d[0]===null?1:0;u=d[g],f=Xe(u);for(let y=g;y<m;y++)h?Nt(Xe(d[y])===h):h=Xe(d[y])}else h=Xe(d);if(f!==h)if(gr(f)&&gr(h)){const m=l.get();typeof m=="string"&&l.set(parseFloat(m)),typeof d=="string"?t[c]=parseFloat(d):Array.isArray(d)&&h===D&&(t[c]=d.map(parseFloat))}else f!=null&&f.transform&&(h!=null&&h.transform)&&(u===0||d===0)?u===0?l.set(h.transform(u)):t[c]=f.transform(d):(i||(s=eu(e),i=!0),a.push(c),o[c]=o[c]!==void 0?o[c]:t[c],l.jump(d))}),a.length){const c=a.indexOf("height")>=0?window.pageYOffset:null,l=tu(t,e,a);return s.length&&s.forEach(([u,f])=>{e.getValue(u).set(f)}),e.render(),Gt&&c!==null&&window.scrollTo({top:c}),{target:l,transitionEnd:o}}else return{target:t,transitionEnd:o}};function ou(e,t,n,o){return Zc(t)?nu(e,t,n,o):{target:t,transitionEnd:o}}const ru=(e,t,n,o)=>{const r=pc(e,t,o);return t=r.target,o=r.transitionEnd,ou(e,t,n,o)},Mn={current:null},Fi={current:!1};function iu(){if(Fi.current=!0,!!Gt)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>Mn.current=e.matches;e.addListener(t),t()}else Mn.current=!1}function su(e,t,n){const{willChange:o}=t;for(const r in t){const s=t[r],i=n[r];if(J(s))e.addValue(r,s),It(o)&&o.add(r);else if(J(i))e.addValue(r,Ge(s,{owner:e})),It(o)&&o.remove(r);else if(i!==s)if(e.hasValue(r)){const a=e.getValue(r);!a.hasAnimated&&a.set(s)}else{const a=e.getStaticValue(r);e.addValue(r,Ge(a!==void 0?a:s,{owner:e}))}}for(const r in n)t[r]===void 0&&e.removeValue(r);return t}const Bi=Object.keys(lt),au=Bi.length,xr=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],lu=Fn.length;class cu{constructor({parent:t,props:n,presenceContext:o,reducedMotionConfig:r,visualState:s},i={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>j.render(this.render,!1,!0);const{latestValues:a,renderState:c}=s;this.latestValues=a,this.baseTarget={...a},this.initialValues=n.initial?{...a}:{},this.renderState=c,this.parent=t,this.props=n,this.presenceContext=o,this.depth=t?t.depth+1:0,this.reducedMotionConfig=r,this.options=i,this.isControllingVariants=Kt(n),this.isVariantNode=Dr(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=Boolean(t&&t.current);const{willChange:l,...u}=this.scrapeMotionValuesFromProps(n,{});for(const f in u){const d=u[f];a[f]!==void 0&&J(d)&&(d.set(a[f],!1),It(l)&&l.add(f))}}scrapeMotionValuesFromProps(t,n){return{}}mount(t){this.current=t,this.projection&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,o)=>this.bindToMotionValue(o,n)),Fi.current||iu(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Mn.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),we.update(this.notifyUpdate),we.render(this.render),this.valueSubscriptions.forEach(t=>t()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features)this.features[t].unmount();this.current=null}bindToMotionValue(t,n){const o=Ie.has(t),r=n.on("change",i=>{this.latestValues[t]=i,this.props.onUpdate&&j.update(this.notifyUpdate,!1,!0),o&&this.projection&&(this.projection.isTransformDirty=!0)}),s=n.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(t,()=>{r(),s()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}loadFeatures({children:t,...n},o,r,s,i){let a,c;for(let l=0;l<au;l++){const u=Bi[l],{isEnabled:f,Feature:d,ProjectionNode:h,MeasureLayout:m}=lt[u];h&&(a=h),f(n)&&(!this.features[u]&&d&&(this.features[u]=new d(this)),m&&(c=m))}if(!this.projection&&a){this.projection=new a(s,this.latestValues,this.parent&&this.parent.projection);const{layoutId:l,layout:u,drag:f,dragConstraints:d,layoutScroll:h,layoutRoot:m}=n;this.projection.setOptions({layoutId:l,layout:u,alwaysMeasureLayout:Boolean(f)||d&&_e(d),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof u=="string"?u:"both",initialPromotionConfig:i,layoutScroll:h,layoutRoot:m})}return c}updateFeatures(){for(const t in this.features){const n=this.features[t];n.isMounted?n.update(this.props,this.prevProps):(n.mount(),n.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):z()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}makeTargetAnimatable(t,n=!0){return this.makeTargetAnimatableFromInstance(t,this.props,n)}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let o=0;o<xr.length;o++){const r=xr[o];this.propEventSubscriptions[r]&&(this.propEventSubscriptions[r](),delete this.propEventSubscriptions[r]);const s=t["on"+r];s&&(this.propEventSubscriptions[r]=this.on(r,s))}this.prevMotionValues=su(this,this.scrapeMotionValuesFromProps(t,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(t=!1){if(t)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const o=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(o.initial=this.props.initial),o}const n={};for(let o=0;o<lu;o++){const r=Fn[o],s=this.props[r];(at(s)||s===!1)&&(n[r]=s)}return n}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){n!==this.values.get(t)&&(this.removeValue(t),this.bindToMotionValue(t,n)),this.values.set(t,n),this.latestValues[t]=n.get()}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let o=this.values.get(t);return o===void 0&&n!==void 0&&(o=Ge(n,{owner:this}),this.addValue(t,o)),o}readValue(t){return this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.readValueFromInstance(this.current,t,this.options)}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var n;const{initial:o}=this.props,r=typeof o=="string"||typeof o=="object"?(n=Kn(this.props,o))===null||n===void 0?void 0:n[t]:void 0;if(o&&r!==void 0)return r;const s=this.getBaseTargetFromProps(this.props,t);return s!==void 0&&!J(s)?s:this.initialValues[t]!==void 0&&r===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new Xn),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}}class ji extends cu{sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:o}){delete n[t],delete o[t]}makeTargetAnimatableFromInstance({transition:t,transitionEnd:n,...o},{transformValues:r},s){let i=Da(o,t||{},this);if(r&&(n&&(n=r(n)),o&&(o=r(o)),i&&(i=r(i))),s){Oa(this,o,i);const a=ru(this,o,i,n);n=a.transitionEnd,o=a.target}return{transition:t,transitionEnd:n,...o}}}function uu(e){return window.getComputedStyle(e)}class du extends ji{readValueFromInstance(t,n){if(Ie.has(n)){const o=Qn(n);return o&&o.default||0}else{const o=uu(t),r=(Ir(n)?o.getPropertyValue(n):o[n])||0;return typeof r=="string"?r.trim():r}}measureInstanceViewportBox(t,{transformPagePoint:n}){return Ai(t,n)}build(t,n,o,r){_n(t,n,o,r.transformTemplate)}scrapeMotionValuesFromProps(t,n){return Wn(t,n)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;J(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}renderInstance(t,n,o,r){$r(t,n,o,r)}}class fu extends ji{constructor(){super(...arguments),this.isSVGTag=!1}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(Ie.has(n)){const o=Qn(n);return o&&o.default||0}return n=_r.has(n)?n:Gn(n),t.getAttribute(n)}measureInstanceViewportBox(){return z()}scrapeMotionValuesFromProps(t,n){return Hr(t,n)}build(t,n,o,r){Hn(t,n,o,this.isSVGTag,r.transformTemplate)}renderInstance(t,n,o,r){Ur(t,n,o,r)}mount(t){this.isSVGTag=zn(t.tagName),super.mount(t)}}const hu=(e,t)=>$n(e)?new fu(t,{enableHardwareAcceleration:!1}):new du(t,{enableHardwareAcceleration:!0}),pu={layout:{ProjectionNode:Ii,MeasureLayout:Oi}},mu={...zl,...la,...Yc,...pu},$t=ys((e,t)=>Gs(e,t,mu,hu));function $i(){const e=p.useRef(!1);return Lt(()=>(e.current=!0,()=>{e.current=!1}),[]),e}function gu(){const e=$i(),[t,n]=p.useState(0),o=p.useCallback(()=>{e.current&&n(t+1)},[t]);return[p.useCallback(()=>j.postRender(o),[o]),t]}class yu extends p.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const o=this.props.sizeRef.current;o.height=n.offsetHeight||0,o.width=n.offsetWidth||0,o.top=n.offsetTop,o.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function vu({children:e,isPresent:t}){const n=p.useId(),o=p.useRef(null),r=p.useRef({width:0,height:0,top:0,left:0});return p.useInsertionEffect(()=>{const{width:s,height:i,top:a,left:c}=r.current;if(t||!o.current||!s||!i)return;o.current.dataset.motionPopId=n;const l=document.createElement("style");return document.head.appendChild(l),l.sheet&&l.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${s}px !important;
            height: ${i}px !important;
            top: ${a}px !important;
            left: ${c}px !important;
          }
        `),()=>{document.head.removeChild(l)}},[t]),p.createElement(yu,{isPresent:t,childRef:o,sizeRef:r},p.cloneElement(e,{ref:o}))}const dn=({children:e,initial:t,isPresent:n,onExitComplete:o,custom:r,presenceAffectsLayout:s,mode:i})=>{const a=Bn(bu),c=p.useId(),l=p.useMemo(()=>({id:c,initial:t,isPresent:n,custom:r,onExitComplete:u=>{a.set(u,!0);for(const f of a.values())if(!f)return;o&&o()},register:u=>(a.set(u,!1),()=>a.delete(u))}),s?void 0:[n]);return p.useMemo(()=>{a.forEach((u,f)=>a.set(f,!1))},[n]),p.useEffect(()=>{!n&&!a.size&&o&&o()},[n]),i==="popLayout"&&(e=p.createElement(vu,{isPresent:n},e)),p.createElement(zt.Provider,{value:l},e)};function bu(){return new Map}function xu(e){return p.useEffect(()=>()=>e(),[])}const $e=e=>e.key||"";function Pu(e,t){e.forEach(n=>{const o=$e(n);t.set(o,n)})}function Su(e){const t=[];return p.Children.forEach(e,n=>{p.isValidElement(n)&&t.push(n)}),t}const wu=({children:e,custom:t,initial:n=!0,onExitComplete:o,exitBeforeEnter:r,presenceAffectsLayout:s=!0,mode:i="sync"})=>{let[a]=gu();const c=p.useContext(jn).forceRender;c&&(a=c);const l=$i(),u=Su(e);let f=u;const d=new Set,h=p.useRef(f),m=p.useRef(new Map).current,g=p.useRef(!0);if(Lt(()=>{g.current=!1,Pu(u,m),h.current=f}),xu(()=>{g.current=!0,m.clear(),d.clear()}),g.current)return p.createElement(p.Fragment,null,f.map(b=>p.createElement(dn,{key:$e(b),isPresent:!0,initial:n?void 0:!1,presenceAffectsLayout:s,mode:i},b)));f=[...f];const y=h.current.map($e),x=u.map($e),P=y.length;for(let b=0;b<P;b++){const S=y[b];x.indexOf(S)===-1&&d.add(S)}return i==="wait"&&d.size&&(f=[]),d.forEach(b=>{if(x.indexOf(b)!==-1)return;const S=m.get(b);if(!S)return;const C=y.indexOf(b),O=()=>{m.delete(b),d.delete(b);const L=h.current.findIndex(T=>T.key===b);if(h.current.splice(L,1),!d.size){if(h.current=u,l.current===!1)return;a(),o&&o()}};f.splice(C,0,p.createElement(dn,{key:$e(S),isPresent:!1,onExitComplete:O,custom:t,presenceAffectsLayout:s,mode:i},S))}),f=f.map(b=>{const S=b.key;return d.has(S)?b:p.createElement(dn,{key:$e(b),isPresent:!0,presenceAffectsLayout:s,mode:i},b)}),p.createElement(p.Fragment,null,d.size?f:f.map(b=>p.cloneElement(b)))},Tu=$.createContext({}),_i=!0;function Cu({baseColor:e,highlightColor:t,width:n,height:o,borderRadius:r,circle:s,direction:i,duration:a,enableAnimation:c=_i}){const l={};return i==="rtl"&&(l["--animation-direction"]="reverse"),typeof a=="number"&&(l["--animation-duration"]=`${a}s`),c||(l["--pseudo-element-display"]="none"),(typeof n=="string"||typeof n=="number")&&(l.width=n),(typeof o=="string"||typeof o=="number")&&(l.height=o),(typeof r=="string"||typeof r=="number")&&(l.borderRadius=r),s&&(l.borderRadius="50%"),typeof e<"u"&&(l["--base-color"]=e),typeof t<"u"&&(l["--highlight-color"]=t),l}function Ru({count:e=1,wrapper:t,className:n,containerClassName:o,containerTestId:r,circle:s=!1,style:i,...a}){var c,l,u;const f=$.useContext(Tu),d={...a};for(const[b,S]of Object.entries(a))typeof S>"u"&&delete d[b];const h={...f,...d,circle:s},m={...i,...Cu(h)};let g="react-loading-skeleton";n&&(g+=` ${n}`);const y=(c=h.inline)!==null&&c!==void 0?c:!1,x=[],P=Math.ceil(e);for(let b=0;b<P;b++){let S=m;if(P>e&&b===P-1){const O=(l=S.width)!==null&&l!==void 0?l:"100%",L=e%1,T=typeof O=="number"?O*L:`calc(${O} * ${L})`;S={...S,width:T}}const C=$.createElement("span",{className:g,style:S,key:b},"‌");y?x.push(C):x.push($.createElement($.Fragment,{key:b},C,$.createElement("br",null)))}return $.createElement("span",{className:o,"data-testid":r,"aria-live":"polite","aria-busy":(u=h.enableAnimation)!==null&&u!==void 0?u:_i},t?x.map((b,S)=>$.createElement(t,{key:S},b)):x)}function Ui(e){var t,n,o="";if(typeof e=="string"||typeof e=="number")o+=e;else if(typeof e=="object")if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=Ui(e[t]))&&(o&&(o+=" "),o+=n);else for(t in e)e[t]&&(o&&(o+=" "),o+=t);return o}function te(){for(var e,t,n=0,o="";n<arguments.length;)(e=arguments[n++])&&(t=Ui(e))&&(o&&(o+=" "),o+=t);return o}var Au=Object.defineProperty,Vu=(e,t,n)=>t in e?Au(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,fn=(e,t,n)=>(Vu(e,typeof t!="symbol"?t+"":t,n),n);let Ou=class{constructor(){fn(this,"current",this.detect()),fn(this,"handoffState","pending"),fn(this,"currentId",0)}set(t){this.current!==t&&(this.handoffState="pending",this.currentId=0,this.current=t)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}handoff(){this.handoffState==="pending"&&(this.handoffState="complete")}get isHandoffComplete(){return this.handoffState==="complete"}},Le=new Ou,K=(e,t)=>{Le.isServer?p.useEffect(e,t):p.useLayoutEffect(e,t)};function gt(e){let t=p.useRef(e);return K(()=>{t.current=e},[e]),t}function yt(e,t){let[n,o]=p.useState(e),r=gt(e);return K(()=>o(r.current),[r,o,...t]),n}function Lu(e){typeof queueMicrotask=="function"?queueMicrotask(e):Promise.resolve().then(e).catch(t=>setTimeout(()=>{throw t}))}function ke(){let e=[],t={addEventListener(n,o,r,s){return n.addEventListener(o,r,s),t.add(()=>n.removeEventListener(o,r,s))},requestAnimationFrame(...n){let o=requestAnimationFrame(...n);return t.add(()=>cancelAnimationFrame(o))},nextFrame(...n){return t.requestAnimationFrame(()=>t.requestAnimationFrame(...n))},setTimeout(...n){let o=setTimeout(...n);return t.add(()=>clearTimeout(o))},microTask(...n){let o={current:!0};return Lu(()=>{o.current&&n[0]()}),t.add(()=>{o.current=!1})},style(n,o,r){let s=n.style.getPropertyValue(o);return Object.assign(n.style,{[o]:r}),this.add(()=>{Object.assign(n.style,{[o]:s})})},group(n){let o=ke();return n(o),this.add(()=>o.dispose())},add(n){return e.push(n),()=>{let o=e.indexOf(n);if(o>=0)for(let r of e.splice(o,1))r()}},dispose(){for(let n of e.splice(0))n()}};return t}function Me(){let[e]=p.useState(ke);return p.useEffect(()=>()=>e.dispose(),[e]),e}let E=function(e){let t=gt(e);return $.useCallback((...n)=>t.current(...n),[t])};function Du(){let[e,t]=p.useState(Le.isHandoffComplete);return e&&Le.isHandoffComplete===!1&&t(!1),p.useEffect(()=>{e!==!0&&t(!0)},[e]),p.useEffect(()=>Le.handoff(),[]),e}var Pr;let ye=(Pr=$.useId)!=null?Pr:function(){let e=Du(),[t,n]=$.useState(e?()=>Le.nextId():null);return K(()=>{t===null&&n(Le.nextId())},[t]),t!=null?""+t:void 0};function Z(e,t,...n){if(e in t){let r=t[e];return typeof r=="function"?r(...n):r}let o=new Error(`Tried to handle "${e}" but there is no handler defined. Only defined handlers are: ${Object.keys(t).map(r=>`"${r}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(o,Z),o}function so(e){return Le.isServer?null:e instanceof Node?e.ownerDocument:e!=null&&e.hasOwnProperty("current")&&e.current instanceof Node?e.current.ownerDocument:document}let Sr=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(e=>`${e}:not([tabindex='-1'])`).join(",");var Eu=(e=>(e[e.First=1]="First",e[e.Previous=2]="Previous",e[e.Next=4]="Next",e[e.Last=8]="Last",e[e.WrapAround=16]="WrapAround",e[e.NoScroll=32]="NoScroll",e))(Eu||{}),ku=(e=>(e[e.Error=0]="Error",e[e.Overflow=1]="Overflow",e[e.Success=2]="Success",e[e.Underflow=3]="Underflow",e))(ku||{}),Mu=(e=>(e[e.Previous=-1]="Previous",e[e.Next=1]="Next",e))(Mu||{}),ao=(e=>(e[e.Strict=0]="Strict",e[e.Loose=1]="Loose",e))(ao||{});function Hi(e,t=0){var n;return e===((n=so(e))==null?void 0:n.body)?!1:Z(t,{[0](){return e.matches(Sr)},[1](){let o=e;for(;o!==null;){if(o.matches(Sr))return!0;o=o.parentElement}return!1}})}function zi(e,t=n=>n){return e.slice().sort((n,o)=>{let r=t(n),s=t(o);if(r===null||s===null)return 0;let i=r.compareDocumentPosition(s);return i&Node.DOCUMENT_POSITION_FOLLOWING?-1:i&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function hn(e,t,n){let o=gt(t);p.useEffect(()=>{function r(s){o.current(s)}return document.addEventListener(e,r,n),()=>document.removeEventListener(e,r,n)},[e,n])}function Gi(e,t,n=!0){let o=p.useRef(!1);p.useEffect(()=>{requestAnimationFrame(()=>{o.current=n})},[n]);function r(i,a){if(!o.current||i.defaultPrevented)return;let c=function u(f){return typeof f=="function"?u(f()):Array.isArray(f)||f instanceof Set?f:[f]}(e),l=a(i);if(l!==null&&l.getRootNode().contains(l)){for(let u of c){if(u===null)continue;let f=u instanceof HTMLElement?u:u.current;if(f!=null&&f.contains(l)||i.composed&&i.composedPath().includes(f))return}return!Hi(l,ao.Loose)&&l.tabIndex!==-1&&i.preventDefault(),t(i,l)}}let s=p.useRef(null);hn("mousedown",i=>{var a,c;o.current&&(s.current=((c=(a=i.composedPath)==null?void 0:a.call(i))==null?void 0:c[0])||i.target)},!0),hn("click",i=>{s.current&&(r(i,()=>s.current),s.current=null)},!0),hn("blur",i=>r(i,()=>window.document.activeElement instanceof HTMLIFrameElement?window.document.activeElement:null),!0)}function wr(e){var t;if(e.type)return e.type;let n=(t=e.as)!=null?t:"button";if(typeof n=="string"&&n.toLowerCase()==="button")return"button"}function Wi(e,t){let[n,o]=p.useState(()=>wr(e));return K(()=>{o(wr(e))},[e.type,e.as]),K(()=>{n||t.current&&t.current instanceof HTMLButtonElement&&!t.current.hasAttribute("type")&&o("button")},[n,t]),n}let Iu=Symbol();function he(...e){let t=p.useRef(e);p.useEffect(()=>{t.current=e},[e]);let n=E(o=>{for(let r of t.current)r!=null&&(typeof r=="function"?r(o):r.current=o)});return e.every(o=>o==null||(o==null?void 0:o[Iu]))?void 0:n}function Nu({container:e,accept:t,walk:n,enabled:o=!0}){let r=p.useRef(t),s=p.useRef(n);p.useEffect(()=>{r.current=t,s.current=n},[t,n]),K(()=>{if(!e||!o)return;let i=so(e);if(!i)return;let a=r.current,c=s.current,l=Object.assign(f=>a(f),{acceptNode:a}),u=i.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,l,!1);for(;u.nextNode();)c(u.currentNode)},[e,o,r,s])}function Fu(e){throw new Error("Unexpected object: "+e)}var F=(e=>(e[e.First=0]="First",e[e.Previous=1]="Previous",e[e.Next=2]="Next",e[e.Last=3]="Last",e[e.Specific=4]="Specific",e[e.Nothing=5]="Nothing",e))(F||{});function Ki(e,t){let n=t.resolveItems();if(n.length<=0)return null;let o=t.resolveActiveIndex(),r=o??-1,s=(()=>{switch(e.focus){case 0:return n.findIndex(i=>!t.resolveDisabled(i));case 1:{let i=n.slice().reverse().findIndex((a,c,l)=>r!==-1&&l.length-c-1>=r?!1:!t.resolveDisabled(a));return i===-1?i:n.length-1-i}case 2:return n.findIndex((i,a)=>a<=r?!1:!t.resolveDisabled(i));case 3:{let i=n.slice().reverse().findIndex(a=>!t.resolveDisabled(a));return i===-1?i:n.length-1-i}case 4:return n.findIndex(i=>t.resolveId(i)===e.id);case 5:return null;default:Fu(e)}})();return s===-1?o:s}function Bu(...e){return e.filter(Boolean).join(" ")}var ft=(e=>(e[e.None=0]="None",e[e.RenderStrategy=1]="RenderStrategy",e[e.Static=2]="Static",e))(ft||{}),ju=(e=>(e[e.Unmount=0]="Unmount",e[e.Hidden=1]="Hidden",e))(ju||{});function ae({ourProps:e,theirProps:t,slot:n,defaultTag:o,features:r,visible:s=!0,name:i}){let a=qi(t,e);if(s)return Ct(a,n,o,i);let c=r??0;if(c&2){let{static:l=!1,...u}=a;if(l)return Ct(u,n,o,i)}if(c&1){let{unmount:l=!0,...u}=a;return Z(l?0:1,{[0](){return null},[1](){return Ct({...u,hidden:!0,style:{display:"none"}},n,o,i)}})}return Ct(a,n,o,i)}function Ct(e,t={},n,o){var r;let{as:s=n,children:i,refName:a="ref",...c}=pn(e,["unmount","static"]),l=e.ref!==void 0?{[a]:e.ref}:{},u=typeof i=="function"?i(t):i;"className"in c&&c.className&&typeof c.className=="function"&&(c.className=c.className(t));let f={};if(t){let d=!1,h=[];for(let[m,g]of Object.entries(t))typeof g=="boolean"&&(d=!0),g===!0&&h.push(m);d&&(f["data-headlessui-state"]=h.join(" "))}if(s===p.Fragment&&Object.keys(_t(c)).length>0){if(!p.isValidElement(u)||Array.isArray(u)&&u.length>1)throw new Error(['Passing props on "Fragment"!',"",`The current component <${o} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(c).map(m=>`  - ${m}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(m=>`  - ${m}`).join(`
`)].join(`
`));let d=Bu((r=u.props)==null?void 0:r.className,c.className),h=d?{className:d}:{};return p.cloneElement(u,Object.assign({},qi(u.props,_t(pn(c,["ref"]))),f,l,$u(u.ref,l.ref),h))}return p.createElement(s,Object.assign({},pn(c,["ref"]),s!==p.Fragment&&l,s!==p.Fragment&&f),u)}function $u(...e){return{ref:e.every(t=>t==null)?void 0:t=>{for(let n of e)n!=null&&(typeof n=="function"?n(t):n.current=t)}}}function qi(...e){if(e.length===0)return{};if(e.length===1)return e[0];let t={},n={};for(let o of e)for(let r in o)r.startsWith("on")&&typeof o[r]=="function"?(n[r]!=null||(n[r]=[]),n[r].push(o[r])):t[r]=o[r];if(t.disabled||t["aria-disabled"])return Object.assign(t,Object.fromEntries(Object.keys(n).map(o=>[o,void 0])));for(let o in n)Object.assign(t,{[o](r,...s){let i=n[o];for(let a of i){if((r instanceof Event||(r==null?void 0:r.nativeEvent)instanceof Event)&&r.defaultPrevented)return;a(r,...s)}}});return t}function le(e){var t;return Object.assign(p.forwardRef(e),{displayName:(t=e.displayName)!=null?t:e.name})}function _t(e){let t=Object.assign({},e);for(let n in t)t[n]===void 0&&delete t[n];return t}function pn(e,t=[]){let n=Object.assign({},e);for(let o of t)o in n&&delete n[o];return n}function Yi(e){let t=e.parentElement,n=null;for(;t&&!(t instanceof HTMLFieldSetElement);)t instanceof HTMLLegendElement&&(n=t),t=t.parentElement;let o=(t==null?void 0:t.getAttribute("disabled"))==="";return o&&_u(n)?!1:o}function _u(e){if(!e)return!1;let t=e.previousElementSibling;for(;t!==null;){if(t instanceof HTMLLegendElement)return!1;t=t.previousElementSibling}return!0}function lo(e={},t=null,n=[]){for(let[o,r]of Object.entries(e))Zi(n,Xi(t,o),r);return n}function Xi(e,t){return e?e+"["+t+"]":t}function Zi(e,t,n){if(Array.isArray(n))for(let[o,r]of n.entries())Zi(e,Xi(t,o.toString()),r);else n instanceof Date?e.push([t,n.toISOString()]):typeof n=="boolean"?e.push([t,n?"1":"0"]):typeof n=="string"?e.push([t,n]):typeof n=="number"?e.push([t,`${n}`]):n==null?e.push([t,""]):lo(n,t,e)}let Uu="div";var co=(e=>(e[e.None=1]="None",e[e.Focusable=2]="Focusable",e[e.Hidden=4]="Hidden",e))(co||{});function Hu(e,t){let{features:n=1,...o}=e,r={ref:t,"aria-hidden":(n&2)===2?!0:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(n&4)===4&&(n&2)!==2&&{display:"none"}}};return ae({ourProps:r,theirProps:o,slot:{},defaultTag:Uu,name:"Hidden"})}let Qi=le(Hu),uo=p.createContext(null);uo.displayName="OpenClosedContext";var ge=(e=>(e[e.Open=1]="Open",e[e.Closed=2]="Closed",e[e.Closing=4]="Closing",e[e.Opening=8]="Opening",e))(ge||{});function Ji(){return p.useContext(uo)}function es({value:e,children:t}){return $.createElement(uo.Provider,{value:e},t)}var N=(e=>(e.Space=" ",e.Enter="Enter",e.Escape="Escape",e.Backspace="Backspace",e.Delete="Delete",e.ArrowLeft="ArrowLeft",e.ArrowUp="ArrowUp",e.ArrowRight="ArrowRight",e.ArrowDown="ArrowDown",e.Home="Home",e.End="End",e.PageUp="PageUp",e.PageDown="PageDown",e.Tab="Tab",e))(N||{});function ts(e,t,n){let[o,r]=p.useState(n),s=e!==void 0,i=p.useRef(s),a=p.useRef(!1),c=p.useRef(!1);return s&&!i.current&&!a.current?(a.current=!0,i.current=s,console.error("A component is changing from uncontrolled to controlled. This may be caused by the value changing from undefined to a defined value, which should not happen.")):!s&&i.current&&!c.current&&(c.current=!0,i.current=s,console.error("A component is changing from controlled to uncontrolled. This may be caused by the value changing from a defined value to undefined, which should not happen.")),[s?e:o,E(l=>(s||r(l),t==null?void 0:t(l)))]}function Tr(e,t){let n=p.useRef([]),o=E(e);p.useEffect(()=>{let r=[...n.current];for(let[s,i]of t.entries())if(n.current[s]!==i){let a=o(t,r);return n.current=t,a}},[o,...t])}function Cr(e){return[e.screenX,e.screenY]}function ns(){let e=p.useRef([-1,-1]);return{wasMoved(t){let n=Cr(t);return e.current[0]===n[0]&&e.current[1]===n[1]?!1:(e.current=n,!0)},update(t){e.current=Cr(t)}}}function zu(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function Gu(){return/Android/gi.test(window.navigator.userAgent)}function Wu(){return zu()||Gu()}var Ku=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(Ku||{}),qu=(e=>(e[e.Single=0]="Single",e[e.Multi=1]="Multi",e))(qu||{}),Yu=(e=>(e[e.Pointer=0]="Pointer",e[e.Other=1]="Other",e))(Yu||{}),Xu=(e=>(e[e.OpenCombobox=0]="OpenCombobox",e[e.CloseCombobox=1]="CloseCombobox",e[e.GoToOption=2]="GoToOption",e[e.RegisterOption=3]="RegisterOption",e[e.UnregisterOption=4]="UnregisterOption",e[e.RegisterLabel=5]="RegisterLabel",e))(Xu||{});function mn(e,t=n=>n){let n=e.activeOptionIndex!==null?e.options[e.activeOptionIndex]:null,o=zi(t(e.options.slice()),s=>s.dataRef.current.domRef.current),r=n?o.indexOf(n):null;return r===-1&&(r=null),{options:o,activeOptionIndex:r}}let Zu={[1](e){var t;return(t=e.dataRef.current)!=null&&t.disabled||e.comboboxState===1?e:{...e,activeOptionIndex:null,comboboxState:1}},[0](e){var t;if((t=e.dataRef.current)!=null&&t.disabled||e.comboboxState===0)return e;let n=e.activeOptionIndex;if(e.dataRef.current){let{isSelected:o}=e.dataRef.current,r=e.options.findIndex(s=>o(s.dataRef.current.value));r!==-1&&(n=r)}return{...e,comboboxState:0,activeOptionIndex:n}},[2](e,t){var n,o,r,s;if((n=e.dataRef.current)!=null&&n.disabled||(o=e.dataRef.current)!=null&&o.optionsRef.current&&!((r=e.dataRef.current)!=null&&r.optionsPropsRef.current.static)&&e.comboboxState===1)return e;let i=mn(e);if(i.activeOptionIndex===null){let c=i.options.findIndex(l=>!l.dataRef.current.disabled);c!==-1&&(i.activeOptionIndex=c)}let a=Ki(t,{resolveItems:()=>i.options,resolveActiveIndex:()=>i.activeOptionIndex,resolveId:c=>c.id,resolveDisabled:c=>c.dataRef.current.disabled});return{...e,...i,activeOptionIndex:a,activationTrigger:(s=t.trigger)!=null?s:1}},[3]:(e,t)=>{var n,o;let r={id:t.id,dataRef:t.dataRef},s=mn(e,a=>[...a,r]);e.activeOptionIndex===null&&(n=e.dataRef.current)!=null&&n.isSelected(t.dataRef.current.value)&&(s.activeOptionIndex=s.options.indexOf(r));let i={...e,...s,activationTrigger:1};return(o=e.dataRef.current)!=null&&o.__demoMode&&e.dataRef.current.value===void 0&&(i.activeOptionIndex=0),i},[4]:(e,t)=>{let n=mn(e,o=>{let r=o.findIndex(s=>s.id===t.id);return r!==-1&&o.splice(r,1),o});return{...e,...n,activationTrigger:1}},[5]:(e,t)=>({...e,labelId:t.id})},fo=p.createContext(null);fo.displayName="ComboboxActionsContext";function vt(e){let t=p.useContext(fo);if(t===null){let n=new Error(`<${e} /> is missing a parent <Combobox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,vt),n}return t}let ho=p.createContext(null);ho.displayName="ComboboxDataContext";function qe(e){let t=p.useContext(ho);if(t===null){let n=new Error(`<${e} /> is missing a parent <Combobox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,qe),n}return t}function Qu(e,t){return Z(t.type,Zu,e,t)}let Ju=p.Fragment;function ed(e,t){let{value:n,defaultValue:o,onChange:r,name:s,by:i=(w,V)=>w===V,disabled:a=!1,__demoMode:c=!1,nullable:l=!1,multiple:u=!1,...f}=e,[d=u?[]:void 0,h]=ts(n,r,o),[m,g]=p.useReducer(Qu,{dataRef:p.createRef(),comboboxState:c?0:1,options:[],activeOptionIndex:null,activationTrigger:1,labelId:null}),y=p.useRef(!1),x=p.useRef({static:!1,hold:!1}),P=p.useRef(null),b=p.useRef(null),S=p.useRef(null),C=p.useRef(null),O=E(typeof i=="string"?(w,V)=>{let k=i;return(w==null?void 0:w[k])===(V==null?void 0:V[k])}:i),L=p.useCallback(w=>Z(T.mode,{[1]:()=>d.some(V=>O(V,w)),[0]:()=>O(d,w)}),[d]),T=p.useMemo(()=>({...m,optionsPropsRef:x,labelRef:P,inputRef:b,buttonRef:S,optionsRef:C,value:d,defaultValue:o,disabled:a,mode:u?1:0,get activeOptionIndex(){if(y.current&&m.activeOptionIndex===null&&m.options.length>0){let w=m.options.findIndex(V=>!V.dataRef.current.disabled);if(w!==-1)return w}return m.activeOptionIndex},compare:O,isSelected:L,nullable:l,__demoMode:c}),[d,o,a,u,l,c,m]),I=p.useRef(T.activeOptionIndex!==null?T.options[T.activeOptionIndex]:null);p.useEffect(()=>{let w=T.activeOptionIndex!==null?T.options[T.activeOptionIndex]:null;I.current!==w&&(I.current=w)}),K(()=>{m.dataRef.current=T},[T]),Gi([T.buttonRef,T.inputRef,T.optionsRef],()=>ve.closeCombobox(),T.comboboxState===0);let H=p.useMemo(()=>({open:T.comboboxState===0,disabled:a,activeIndex:T.activeOptionIndex,activeOption:T.activeOptionIndex===null?null:T.options[T.activeOptionIndex].dataRef.current.value,value:d}),[T,a,d]),R=E(w=>{let V=T.options.find(k=>k.id===w);V&&ue(V.dataRef.current.value)}),q=E(()=>{if(T.activeOptionIndex!==null){let{dataRef:w,id:V}=T.options[T.activeOptionIndex];ue(w.current.value),ve.goToOption(F.Specific,V)}}),W=E(()=>{g({type:0}),y.current=!0}),Q=E(()=>{g({type:1}),y.current=!1}),_=E((w,V,k)=>(y.current=!1,w===F.Specific?g({type:2,focus:F.Specific,id:V,trigger:k}):g({type:2,focus:w,trigger:k}))),B=E((w,V)=>(g({type:3,id:w,dataRef:V}),()=>{var k;((k=I.current)==null?void 0:k.id)===w&&(y.current=!0),g({type:4,id:w})})),G=E(w=>(g({type:5,id:w}),()=>g({type:5,id:null}))),ue=E(w=>Z(T.mode,{[0](){return h==null?void 0:h(w)},[1](){let V=T.value.slice(),k=V.findIndex(re=>O(re,w));return k===-1?V.push(w):V.splice(k,1),h==null?void 0:h(V)}})),ve=p.useMemo(()=>({onChange:ue,registerOption:B,registerLabel:G,goToOption:_,closeCombobox:Q,openCombobox:W,selectActiveOption:q,selectOption:R}),[]),Fe=t===null?{}:{ref:t},oe=p.useRef(null),Pt=Me();return p.useEffect(()=>{oe.current&&o!==void 0&&Pt.addEventListener(oe.current,"reset",()=>{ue(o)})},[oe,ue]),$.createElement(fo.Provider,{value:ve},$.createElement(ho.Provider,{value:T},$.createElement(es,{value:Z(T.comboboxState,{[0]:ge.Open,[1]:ge.Closed})},s!=null&&d!=null&&lo({[s]:d}).map(([w,V],k)=>$.createElement(Qi,{features:co.Hidden,ref:k===0?re=>{var Be;oe.current=(Be=re==null?void 0:re.closest("form"))!=null?Be:null}:void 0,..._t({key:w,as:"input",type:"hidden",hidden:!0,readOnly:!0,name:w,value:V})})),ae({ourProps:Fe,theirProps:f,slot:H,defaultTag:Ju,name:"Combobox"}))))}let td="input";function nd(e,t){var n,o,r,s;let i=ye(),{id:a=`headlessui-combobox-input-${i}`,onChange:c,displayValue:l,type:u="text",...f}=e,d=qe("Combobox.Input"),h=vt("Combobox.Input"),m=he(d.inputRef,t),g=p.useRef(!1),y=Me(),x=function(){var R;return typeof l=="function"&&d.value!==void 0?(R=l(d.value))!=null?R:"":typeof d.value=="string"?d.value:""}();Tr(([R,q],[W,Q])=>{g.current||d.inputRef.current&&(Q===0&&q===1||R!==W)&&(d.inputRef.current.value=R)},[x,d.comboboxState]),Tr(([R],[q])=>{if(R===0&&q===1){let W=d.inputRef.current;if(!W)return;let Q=W.value,{selectionStart:_,selectionEnd:B,selectionDirection:G}=W;W.value="",W.value=Q,G!==null?W.setSelectionRange(_,B,G):W.setSelectionRange(_,B)}},[d.comboboxState]);let P=p.useRef(!1),b=E(()=>{P.current=!0}),S=E(()=>{setTimeout(()=>{P.current=!1})}),C=E(R=>{switch(g.current=!0,R.key){case N.Backspace:case N.Delete:if(d.mode!==0||!d.nullable)return;let q=R.currentTarget;y.requestAnimationFrame(()=>{q.value===""&&(h.onChange(null),d.optionsRef.current&&(d.optionsRef.current.scrollTop=0),h.goToOption(F.Nothing))});break;case N.Enter:if(g.current=!1,d.comboboxState!==0||P.current)return;if(R.preventDefault(),R.stopPropagation(),d.activeOptionIndex===null){h.closeCombobox();return}h.selectActiveOption(),d.mode===0&&h.closeCombobox();break;case N.ArrowDown:return g.current=!1,R.preventDefault(),R.stopPropagation(),Z(d.comboboxState,{[0]:()=>{h.goToOption(F.Next)},[1]:()=>{h.openCombobox()}});case N.ArrowUp:return g.current=!1,R.preventDefault(),R.stopPropagation(),Z(d.comboboxState,{[0]:()=>{h.goToOption(F.Previous)},[1]:()=>{h.openCombobox(),y.nextFrame(()=>{d.value||h.goToOption(F.Last)})}});case N.Home:if(R.shiftKey)break;return g.current=!1,R.preventDefault(),R.stopPropagation(),h.goToOption(F.First);case N.PageUp:return g.current=!1,R.preventDefault(),R.stopPropagation(),h.goToOption(F.First);case N.End:if(R.shiftKey)break;return g.current=!1,R.preventDefault(),R.stopPropagation(),h.goToOption(F.Last);case N.PageDown:return g.current=!1,R.preventDefault(),R.stopPropagation(),h.goToOption(F.Last);case N.Escape:return g.current=!1,d.comboboxState!==0?void 0:(R.preventDefault(),d.optionsRef.current&&!d.optionsPropsRef.current.static&&R.stopPropagation(),h.closeCombobox());case N.Tab:if(g.current=!1,d.comboboxState!==0)return;d.mode===0&&h.selectActiveOption(),h.closeCombobox();break}}),O=E(R=>{h.openCombobox(),c==null||c(R)}),L=E(()=>{g.current=!1}),T=yt(()=>{if(d.labelId)return[d.labelId].join(" ")},[d.labelId]),I=p.useMemo(()=>({open:d.comboboxState===0,disabled:d.disabled}),[d]),H={ref:m,id:a,role:"combobox",type:u,"aria-controls":(n=d.optionsRef.current)==null?void 0:n.id,"aria-expanded":d.disabled?void 0:d.comboboxState===0,"aria-activedescendant":d.activeOptionIndex===null||(o=d.options[d.activeOptionIndex])==null?void 0:o.id,"aria-labelledby":T,"aria-autocomplete":"list",defaultValue:(s=(r=e.defaultValue)!=null?r:d.defaultValue!==void 0?l==null?void 0:l(d.defaultValue):null)!=null?s:d.defaultValue,disabled:d.disabled,onCompositionStart:b,onCompositionEnd:S,onKeyDown:C,onChange:O,onBlur:L};return ae({ourProps:H,theirProps:f,slot:I,defaultTag:td,name:"Combobox.Input"})}let od="button";function rd(e,t){var n;let o=qe("Combobox.Button"),r=vt("Combobox.Button"),s=he(o.buttonRef,t),i=ye(),{id:a=`headlessui-combobox-button-${i}`,...c}=e,l=Me(),u=E(g=>{switch(g.key){case N.ArrowDown:return g.preventDefault(),g.stopPropagation(),o.comboboxState===1&&r.openCombobox(),l.nextFrame(()=>{var y;return(y=o.inputRef.current)==null?void 0:y.focus({preventScroll:!0})});case N.ArrowUp:return g.preventDefault(),g.stopPropagation(),o.comboboxState===1&&(r.openCombobox(),l.nextFrame(()=>{o.value||r.goToOption(F.Last)})),l.nextFrame(()=>{var y;return(y=o.inputRef.current)==null?void 0:y.focus({preventScroll:!0})});case N.Escape:return o.comboboxState!==0?void 0:(g.preventDefault(),o.optionsRef.current&&!o.optionsPropsRef.current.static&&g.stopPropagation(),r.closeCombobox(),l.nextFrame(()=>{var y;return(y=o.inputRef.current)==null?void 0:y.focus({preventScroll:!0})}));default:return}}),f=E(g=>{if(Yi(g.currentTarget))return g.preventDefault();o.comboboxState===0?r.closeCombobox():(g.preventDefault(),r.openCombobox()),l.nextFrame(()=>{var y;return(y=o.inputRef.current)==null?void 0:y.focus({preventScroll:!0})})}),d=yt(()=>{if(o.labelId)return[o.labelId,a].join(" ")},[o.labelId,a]),h=p.useMemo(()=>({open:o.comboboxState===0,disabled:o.disabled,value:o.value}),[o]),m={ref:s,id:a,type:Wi(e,o.buttonRef),tabIndex:-1,"aria-haspopup":"listbox","aria-controls":(n=o.optionsRef.current)==null?void 0:n.id,"aria-expanded":o.disabled?void 0:o.comboboxState===0,"aria-labelledby":d,disabled:o.disabled,onClick:f,onKeyDown:u};return ae({ourProps:m,theirProps:c,slot:h,defaultTag:od,name:"Combobox.Button"})}let id="label";function sd(e,t){let n=ye(),{id:o=`headlessui-combobox-label-${n}`,...r}=e,s=qe("Combobox.Label"),i=vt("Combobox.Label"),a=he(s.labelRef,t);K(()=>i.registerLabel(o),[o]);let c=E(()=>{var u;return(u=s.inputRef.current)==null?void 0:u.focus({preventScroll:!0})}),l=p.useMemo(()=>({open:s.comboboxState===0,disabled:s.disabled}),[s]);return ae({ourProps:{ref:a,id:o,onClick:c},theirProps:r,slot:l,defaultTag:id,name:"Combobox.Label"})}let ad="ul",ld=ft.RenderStrategy|ft.Static;function cd(e,t){let n=ye(),{id:o=`headlessui-combobox-options-${n}`,hold:r=!1,...s}=e,i=qe("Combobox.Options"),a=he(i.optionsRef,t),c=Ji(),l=(()=>c!==null?(c&ge.Open)===ge.Open:i.comboboxState===0)();K(()=>{var h;i.optionsPropsRef.current.static=(h=e.static)!=null?h:!1},[i.optionsPropsRef,e.static]),K(()=>{i.optionsPropsRef.current.hold=r},[i.optionsPropsRef,r]),Nu({container:i.optionsRef.current,enabled:i.comboboxState===0,accept(h){return h.getAttribute("role")==="option"?NodeFilter.FILTER_REJECT:h.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(h){h.setAttribute("role","none")}});let u=yt(()=>{var h,m;return(m=i.labelId)!=null?m:(h=i.buttonRef.current)==null?void 0:h.id},[i.labelId,i.buttonRef.current]),f=p.useMemo(()=>({open:i.comboboxState===0}),[i]),d={"aria-labelledby":u,role:"listbox","aria-multiselectable":i.mode===1?!0:void 0,id:o,ref:a};return ae({ourProps:d,theirProps:s,slot:f,defaultTag:ad,features:ld,visible:l,name:"Combobox.Options"})}let ud="li";function dd(e,t){var n,o;let r=ye(),{id:s=`headlessui-combobox-option-${r}`,disabled:i=!1,value:a,...c}=e,l=qe("Combobox.Option"),u=vt("Combobox.Option"),f=l.activeOptionIndex!==null?l.options[l.activeOptionIndex].id===s:!1,d=l.isSelected(a),h=p.useRef(null),m=gt({disabled:i,value:a,domRef:h,textValue:(o=(n=h.current)==null?void 0:n.textContent)==null?void 0:o.toLowerCase()}),g=he(t,h),y=E(()=>u.selectOption(s));K(()=>u.registerOption(s,m),[m,s]);let x=p.useRef(!l.__demoMode);K(()=>{if(!l.__demoMode)return;let I=ke();return I.requestAnimationFrame(()=>{x.current=!0}),I.dispose},[]),K(()=>{if(l.comboboxState!==0||!f||!x.current||l.activationTrigger===0)return;let I=ke();return I.requestAnimationFrame(()=>{var H,R;(R=(H=h.current)==null?void 0:H.scrollIntoView)==null||R.call(H,{block:"nearest"})}),I.dispose},[h,f,l.comboboxState,l.activationTrigger,l.activeOptionIndex]);let P=E(I=>{if(i)return I.preventDefault();y(),l.mode===0&&u.closeCombobox(),Wu()||requestAnimationFrame(()=>{var H;return(H=l.inputRef.current)==null?void 0:H.focus()})}),b=E(()=>{if(i)return u.goToOption(F.Nothing);u.goToOption(F.Specific,s)}),S=ns(),C=E(I=>S.update(I)),O=E(I=>{S.wasMoved(I)&&(i||f||u.goToOption(F.Specific,s,0))}),L=E(I=>{S.wasMoved(I)&&(i||f&&(l.optionsPropsRef.current.hold||u.goToOption(F.Nothing)))}),T=p.useMemo(()=>({active:f,selected:d,disabled:i}),[f,d,i]);return ae({ourProps:{id:s,ref:g,role:"option",tabIndex:i===!0?void 0:-1,"aria-disabled":i===!0?!0:void 0,"aria-selected":d,disabled:void 0,onClick:P,onFocus:b,onPointerEnter:C,onMouseEnter:C,onPointerMove:O,onMouseMove:O,onPointerLeave:L,onMouseLeave:L},theirProps:c,slot:T,defaultTag:ud,name:"Combobox.Option"})}let fd=le(ed),hd=le(rd),pd=le(nd),md=le(sd),gd=le(cd),yd=le(dd),Rt=Object.assign(fd,{Input:pd,Button:hd,Label:md,Options:gd,Option:yd});var vd=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(vd||{}),bd=(e=>(e[e.Single=0]="Single",e[e.Multi=1]="Multi",e))(bd||{}),xd=(e=>(e[e.Pointer=0]="Pointer",e[e.Other=1]="Other",e))(xd||{}),Pd=(e=>(e[e.OpenListbox=0]="OpenListbox",e[e.CloseListbox=1]="CloseListbox",e[e.GoToOption=2]="GoToOption",e[e.Search=3]="Search",e[e.ClearSearch=4]="ClearSearch",e[e.RegisterOption=5]="RegisterOption",e[e.UnregisterOption=6]="UnregisterOption",e[e.RegisterLabel=7]="RegisterLabel",e))(Pd||{});function gn(e,t=n=>n){let n=e.activeOptionIndex!==null?e.options[e.activeOptionIndex]:null,o=zi(t(e.options.slice()),s=>s.dataRef.current.domRef.current),r=n?o.indexOf(n):null;return r===-1&&(r=null),{options:o,activeOptionIndex:r}}let Sd={[1](e){return e.dataRef.current.disabled||e.listboxState===1?e:{...e,activeOptionIndex:null,listboxState:1}},[0](e){if(e.dataRef.current.disabled||e.listboxState===0)return e;let t=e.activeOptionIndex,{isSelected:n}=e.dataRef.current,o=e.options.findIndex(r=>n(r.dataRef.current.value));return o!==-1&&(t=o),{...e,listboxState:0,activeOptionIndex:t}},[2](e,t){var n;if(e.dataRef.current.disabled||e.listboxState===1)return e;let o=gn(e),r=Ki(t,{resolveItems:()=>o.options,resolveActiveIndex:()=>o.activeOptionIndex,resolveId:s=>s.id,resolveDisabled:s=>s.dataRef.current.disabled});return{...e,...o,searchQuery:"",activeOptionIndex:r,activationTrigger:(n=t.trigger)!=null?n:1}},[3]:(e,t)=>{if(e.dataRef.current.disabled||e.listboxState===1)return e;let n=e.searchQuery!==""?0:1,o=e.searchQuery+t.value.toLowerCase(),r=(e.activeOptionIndex!==null?e.options.slice(e.activeOptionIndex+n).concat(e.options.slice(0,e.activeOptionIndex+n)):e.options).find(i=>{var a;return!i.dataRef.current.disabled&&((a=i.dataRef.current.textValue)==null?void 0:a.startsWith(o))}),s=r?e.options.indexOf(r):-1;return s===-1||s===e.activeOptionIndex?{...e,searchQuery:o}:{...e,searchQuery:o,activeOptionIndex:s,activationTrigger:1}},[4](e){return e.dataRef.current.disabled||e.listboxState===1||e.searchQuery===""?e:{...e,searchQuery:""}},[5]:(e,t)=>{let n={id:t.id,dataRef:t.dataRef},o=gn(e,r=>[...r,n]);return e.activeOptionIndex===null&&e.dataRef.current.isSelected(t.dataRef.current.value)&&(o.activeOptionIndex=o.options.indexOf(n)),{...e,...o}},[6]:(e,t)=>{let n=gn(e,o=>{let r=o.findIndex(s=>s.id===t.id);return r!==-1&&o.splice(r,1),o});return{...e,...n,activationTrigger:1}},[7]:(e,t)=>({...e,labelId:t.id})},po=p.createContext(null);po.displayName="ListboxActionsContext";function bt(e){let t=p.useContext(po);if(t===null){let n=new Error(`<${e} /> is missing a parent <Listbox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,bt),n}return t}let mo=p.createContext(null);mo.displayName="ListboxDataContext";function xt(e){let t=p.useContext(mo);if(t===null){let n=new Error(`<${e} /> is missing a parent <Listbox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,xt),n}return t}function wd(e,t){return Z(t.type,Sd,e,t)}let Td=p.Fragment;function Cd(e,t){let{value:n,defaultValue:o,name:r,onChange:s,by:i=(w,V)=>w===V,disabled:a=!1,horizontal:c=!1,multiple:l=!1,...u}=e;const f=c?"horizontal":"vertical";let d=he(t),[h=l?[]:void 0,m]=ts(n,s,o),[g,y]=p.useReducer(wd,{dataRef:p.createRef(),listboxState:1,options:[],searchQuery:"",labelId:null,activeOptionIndex:null,activationTrigger:1}),x=p.useRef({static:!1,hold:!1}),P=p.useRef(null),b=p.useRef(null),S=p.useRef(null),C=E(typeof i=="string"?(w,V)=>{let k=i;return(w==null?void 0:w[k])===(V==null?void 0:V[k])}:i),O=p.useCallback(w=>Z(L.mode,{[1]:()=>h.some(V=>C(V,w)),[0]:()=>C(h,w)}),[h]),L=p.useMemo(()=>({...g,value:h,disabled:a,mode:l?1:0,orientation:f,compare:C,isSelected:O,optionsPropsRef:x,labelRef:P,buttonRef:b,optionsRef:S}),[h,a,l,g]);K(()=>{g.dataRef.current=L},[L]),Gi([L.buttonRef,L.optionsRef],(w,V)=>{var k;y({type:1}),Hi(V,ao.Loose)||(w.preventDefault(),(k=L.buttonRef.current)==null||k.focus())},L.listboxState===0);let T=p.useMemo(()=>({open:L.listboxState===0,disabled:a,value:h}),[L,a,h]),I=E(w=>{let V=L.options.find(k=>k.id===w);V&&B(V.dataRef.current.value)}),H=E(()=>{if(L.activeOptionIndex!==null){let{dataRef:w,id:V}=L.options[L.activeOptionIndex];B(w.current.value),y({type:2,focus:F.Specific,id:V})}}),R=E(()=>y({type:0})),q=E(()=>y({type:1})),W=E((w,V,k)=>w===F.Specific?y({type:2,focus:F.Specific,id:V,trigger:k}):y({type:2,focus:w,trigger:k})),Q=E((w,V)=>(y({type:5,id:w,dataRef:V}),()=>y({type:6,id:w}))),_=E(w=>(y({type:7,id:w}),()=>y({type:7,id:null}))),B=E(w=>Z(L.mode,{[0](){return m==null?void 0:m(w)},[1](){let V=L.value.slice(),k=V.findIndex(re=>C(re,w));return k===-1?V.push(w):V.splice(k,1),m==null?void 0:m(V)}})),G=E(w=>y({type:3,value:w})),ue=E(()=>y({type:4})),ve=p.useMemo(()=>({onChange:B,registerOption:Q,registerLabel:_,goToOption:W,closeListbox:q,openListbox:R,selectActiveOption:H,selectOption:I,search:G,clearSearch:ue}),[]),Fe={ref:d},oe=p.useRef(null),Pt=Me();return p.useEffect(()=>{oe.current&&o!==void 0&&Pt.addEventListener(oe.current,"reset",()=>{B(o)})},[oe,B]),$.createElement(po.Provider,{value:ve},$.createElement(mo.Provider,{value:L},$.createElement(es,{value:Z(L.listboxState,{[0]:ge.Open,[1]:ge.Closed})},r!=null&&h!=null&&lo({[r]:h}).map(([w,V],k)=>$.createElement(Qi,{features:co.Hidden,ref:k===0?re=>{var Be;oe.current=(Be=re==null?void 0:re.closest("form"))!=null?Be:null}:void 0,..._t({key:w,as:"input",type:"hidden",hidden:!0,readOnly:!0,name:w,value:V})})),ae({ourProps:Fe,theirProps:u,slot:T,defaultTag:Td,name:"Listbox"}))))}let Rd="button";function Ad(e,t){var n;let o=ye(),{id:r=`headlessui-listbox-button-${o}`,...s}=e,i=xt("Listbox.Button"),a=bt("Listbox.Button"),c=he(i.buttonRef,t),l=Me(),u=E(y=>{switch(y.key){case N.Space:case N.Enter:case N.ArrowDown:y.preventDefault(),a.openListbox(),l.nextFrame(()=>{i.value||a.goToOption(F.First)});break;case N.ArrowUp:y.preventDefault(),a.openListbox(),l.nextFrame(()=>{i.value||a.goToOption(F.Last)});break}}),f=E(y=>{switch(y.key){case N.Space:y.preventDefault();break}}),d=E(y=>{if(Yi(y.currentTarget))return y.preventDefault();i.listboxState===0?(a.closeListbox(),l.nextFrame(()=>{var x;return(x=i.buttonRef.current)==null?void 0:x.focus({preventScroll:!0})})):(y.preventDefault(),a.openListbox())}),h=yt(()=>{if(i.labelId)return[i.labelId,r].join(" ")},[i.labelId,r]),m=p.useMemo(()=>({open:i.listboxState===0,disabled:i.disabled,value:i.value}),[i]),g={ref:c,id:r,type:Wi(e,i.buttonRef),"aria-haspopup":"listbox","aria-controls":(n=i.optionsRef.current)==null?void 0:n.id,"aria-expanded":i.disabled?void 0:i.listboxState===0,"aria-labelledby":h,disabled:i.disabled,onKeyDown:u,onKeyUp:f,onClick:d};return ae({ourProps:g,theirProps:s,slot:m,defaultTag:Rd,name:"Listbox.Button"})}let Vd="label";function Od(e,t){let n=ye(),{id:o=`headlessui-listbox-label-${n}`,...r}=e,s=xt("Listbox.Label"),i=bt("Listbox.Label"),a=he(s.labelRef,t);K(()=>i.registerLabel(o),[o]);let c=E(()=>{var u;return(u=s.buttonRef.current)==null?void 0:u.focus({preventScroll:!0})}),l=p.useMemo(()=>({open:s.listboxState===0,disabled:s.disabled}),[s]);return ae({ourProps:{ref:a,id:o,onClick:c},theirProps:r,slot:l,defaultTag:Vd,name:"Listbox.Label"})}let Ld="ul",Dd=ft.RenderStrategy|ft.Static;function Ed(e,t){var n;let o=ye(),{id:r=`headlessui-listbox-options-${o}`,...s}=e,i=xt("Listbox.Options"),a=bt("Listbox.Options"),c=he(i.optionsRef,t),l=Me(),u=Me(),f=Ji(),d=(()=>f!==null?(f&ge.Open)===ge.Open:i.listboxState===0)();p.useEffect(()=>{var x;let P=i.optionsRef.current;P&&i.listboxState===0&&P!==((x=so(P))==null?void 0:x.activeElement)&&P.focus({preventScroll:!0})},[i.listboxState,i.optionsRef]);let h=E(x=>{switch(u.dispose(),x.key){case N.Space:if(i.searchQuery!=="")return x.preventDefault(),x.stopPropagation(),a.search(x.key);case N.Enter:if(x.preventDefault(),x.stopPropagation(),i.activeOptionIndex!==null){let{dataRef:P}=i.options[i.activeOptionIndex];a.onChange(P.current.value)}i.mode===0&&(a.closeListbox(),ke().nextFrame(()=>{var P;return(P=i.buttonRef.current)==null?void 0:P.focus({preventScroll:!0})}));break;case Z(i.orientation,{vertical:N.ArrowDown,horizontal:N.ArrowRight}):return x.preventDefault(),x.stopPropagation(),a.goToOption(F.Next);case Z(i.orientation,{vertical:N.ArrowUp,horizontal:N.ArrowLeft}):return x.preventDefault(),x.stopPropagation(),a.goToOption(F.Previous);case N.Home:case N.PageUp:return x.preventDefault(),x.stopPropagation(),a.goToOption(F.First);case N.End:case N.PageDown:return x.preventDefault(),x.stopPropagation(),a.goToOption(F.Last);case N.Escape:return x.preventDefault(),x.stopPropagation(),a.closeListbox(),l.nextFrame(()=>{var P;return(P=i.buttonRef.current)==null?void 0:P.focus({preventScroll:!0})});case N.Tab:x.preventDefault(),x.stopPropagation();break;default:x.key.length===1&&(a.search(x.key),u.setTimeout(()=>a.clearSearch(),350));break}}),m=yt(()=>{var x,P,b;return(b=(x=i.labelRef.current)==null?void 0:x.id)!=null?b:(P=i.buttonRef.current)==null?void 0:P.id},[i.labelRef.current,i.buttonRef.current]),g=p.useMemo(()=>({open:i.listboxState===0}),[i]),y={"aria-activedescendant":i.activeOptionIndex===null||(n=i.options[i.activeOptionIndex])==null?void 0:n.id,"aria-multiselectable":i.mode===1?!0:void 0,"aria-labelledby":m,"aria-orientation":i.orientation,id:r,onKeyDown:h,role:"listbox",tabIndex:0,ref:c};return ae({ourProps:y,theirProps:s,slot:g,defaultTag:Ld,features:Dd,visible:d,name:"Listbox.Options"})}let kd="li";function Md(e,t){let n=ye(),{id:o=`headlessui-listbox-option-${n}`,disabled:r=!1,value:s,...i}=e,a=xt("Listbox.Option"),c=bt("Listbox.Option"),l=a.activeOptionIndex!==null?a.options[a.activeOptionIndex].id===o:!1,u=a.isSelected(s),f=p.useRef(null),d=gt({disabled:r,value:s,domRef:f,get textValue(){var C,O;return(O=(C=f.current)==null?void 0:C.textContent)==null?void 0:O.toLowerCase()}}),h=he(t,f);K(()=>{if(a.listboxState!==0||!l||a.activationTrigger===0)return;let C=ke();return C.requestAnimationFrame(()=>{var O,L;(L=(O=f.current)==null?void 0:O.scrollIntoView)==null||L.call(O,{block:"nearest"})}),C.dispose},[f,l,a.listboxState,a.activationTrigger,a.activeOptionIndex]),K(()=>c.registerOption(o,d),[d,o]);let m=E(C=>{if(r)return C.preventDefault();c.onChange(s),a.mode===0&&(c.closeListbox(),ke().nextFrame(()=>{var O;return(O=a.buttonRef.current)==null?void 0:O.focus({preventScroll:!0})}))}),g=E(()=>{if(r)return c.goToOption(F.Nothing);c.goToOption(F.Specific,o)}),y=ns(),x=E(C=>y.update(C)),P=E(C=>{y.wasMoved(C)&&(r||l||c.goToOption(F.Specific,o,0))}),b=E(C=>{y.wasMoved(C)&&(r||l&&c.goToOption(F.Nothing))}),S=p.useMemo(()=>({active:l,selected:u,disabled:r}),[l,u,r]);return ae({ourProps:{id:o,ref:h,role:"option",tabIndex:r===!0?void 0:-1,"aria-disabled":r===!0?!0:void 0,"aria-selected":u,disabled:void 0,onClick:m,onFocus:g,onPointerEnter:x,onMouseEnter:x,onPointerMove:P,onMouseMove:P,onPointerLeave:b,onMouseLeave:b},theirProps:i,slot:S,defaultTag:kd,name:"Listbox.Option"})}let Id=le(Cd),Nd=le(Ad),Fd=le(Od),Bd=le(Ed),jd=le(Md),se=Object.assign(Id,{Button:Nd,Label:Fd,Options:Bd,Option:jd});const ze=()=>({id:"__me",label:A("me"),canSend:!0,canManage:!0}),In=rs(null);function os(e){const t=ee(In)??[ze()],n=ee(e.stack)??ze();return p.useEffect(()=>{De("querySenders").then(o=>In.set([ze(),...(o==null?void 0:o.filter(r=>e.send?r.canSend:!0))??[]]))},[]),M(se,{value:n,onChange:o=>e.stack.set(o),children:[M(se.Button,{className:te("flex w-full gap-3 rounded-xl bg-primary py-3 px-5 text-left",e.smaller&&"!w-auto bg-transparent !py-0 !px-2 text-sm font-medium"),children:[M("p",{className:"flex-1",children:[e.prefix,n.label]}),v("i",{className:"far fa-chevron-down text-sm"})]}),v(se.Options,{className:"absolute top-[calc(100%+4px)] z-50 flex w-full flex-col rounded-xl bg-primary p-1 shadow-xl dark:shadow-black",children:t.map(o=>v(se.Option,{value:o,as:p.Fragment,children:({active:r})=>M("div",{className:te("group flex items-center gap-2 rounded-lg p-2 transition duration-150 ease-in-out hover:cursor-pointer hover:bg-background",r&&"bg-primary",e.smaller&&"py-1 text-sm font-medium"),children:[n.id===o.id&&v("div",{className:"flex aspect-square min-w-[1.5rem] items-center justify-center rounded-lg bg-background group-hover:bg-primary",children:v("i",{className:"far fa-check text-xs"})}),v("p",{className:"px-1",children:o.label})]})},o.id))})]})}function Rr(e){const t=window.SetPopUp;t?t({title:e.title,description:e.description,buttons:[{title:e.cancel.label,color:"red",cb:e.cancel.action},{title:e.submit.label,color:"green",cb:e.submit.action}]}):yn.set(e)}function $d(e,t){const n=Math.floor((t.getTime()-e.getTime())/1e3),o=Math.abs(n),r=n<0?"- ":"",s=[A("time.january"),A("time.february"),A("time.march"),A("time.april"),A("time.may"),A("time.june"),A("time.july"),A("time.august"),A("time.september"),A("time.october"),A("time.november"),A("time.december")],i={seconds:A("time.seconds"),minutes:A("time.minutes"),hours:A("time.hours"),days:A("time.days")};return o<60?r+`${o}${i.seconds}`:o<3600?r+`${Math.floor(o/60)}${i.minutes}`:o<86400?r+`${Math.floor(o/3600)}${i.hours}`:o<604800?r+`${Math.floor(o/86400)}${i.days}`:o<2628e3?r+`${t.getDate()} ${s[t.getMonth()]}`:r+`${t.getDate()} ${s[t.getMonth()]} ${t.getFullYear()}`}function _d({invoice:e,showRecipient:t,variants:n}){var f,d;const[o,r]=p.useState(!1),s=ee(In),i=(st.value??ze()).id==="__me",a=i||((f=s.find(h=>h.id===e.recipient))==null?void 0:f.canManage),c=i||((d=s.find(h=>h.id===e.sender))==null?void 0:d.canManage),l=async h=>{h.preventDefault(),h.stopPropagation(),Rr({title:`${A("cancel_invoice")}`,description:e.summary,cancel:{label:A("no"),action:()=>{}},submit:{label:A("yes"),action:async()=>await De("cancelInvoice",e)}})},u=async h=>{h.preventDefault(),h.stopPropagation();const g=e.payments_num>1?Math.ceil(e.amount/e.payments_num):e.amount;Rr({title:`${A("pay")} ${A("currency_format",{amount:g})}`,description:e.summary,cancel:{label:A("cancel"),action:()=>{}},submit:{label:A("pay"),action:async()=>await De("payInvoice",{id:e.id,recipient:e.recipient,recipient_label:e.recipient_label,sender:e.sender,sender_label:e.sender_label})}})};return M($t.div,{className:"flex flex-col gap-1.5 rounded-2xl bg-primary p-3.5 hover:cursor-pointer",onClick:()=>r(h=>!h),variants:n,children:[e.payments_num>1&&e.status!=="completed"&&v("div",{className:"relative -top-0.5",children:v(Ud,{invoice:e})}),M("div",{className:"flex items-center gap-3",children:[v("div",{className:"flex aspect-square w-[1.5rem] items-center justify-center rounded-lg bg-background",children:e.payments_num>1&&e.status!=="completed"?v("p",{className:"text-sm font-medium",children:e.payments_num-e.current_payment}):e.status==="completed"&&v("i",{className:te("far fa-check text-xs")})}),v("div",{className:"flex flex-1 items-center overflow-hidden font-medium",children:v("p",{className:te("overflow-hidden whitespace-nowrap",e.status==="completed"&&"line-through"),children:t?e.recipient_label??e.recipient:e.sender_label??e.sender})}),M("p",{className:"whitespace-nowrap text-sm font-medium",children:[A("currency_format",{amount:e.status==="completed"?e.amount:Math.round(e.amount/e.payments_num)}),v("span",{className:"ml-1 text-contrast-80",children:e.payments_num>1&&e.status!=="completed"?A("per"):""})]}),v("i",{className:te("far fa-chevron-down text-xs text-contrast-130 transition duration-300 ease-in-out",o&&"rotate-180")})]}),o&&M("div",{className:"mt-2 flex gap-3",children:[v("p",{className:"mt-1.5 flex-1 text-sm font-medium text-contrast-40",children:e.summary}),c&&t&&e.status!=="completed"&&v("button",{className:"flex w-16 items-center justify-center gap-1 rounded-xl bg-contrast py-1 text-xs font-semibold text-background transition-colors duration-200 ease-in-out hover:cursor-pointer hover:bg-contrast-50 dark:bg-white",onClick:l,children:A("cancel")}),a&&!t&&e.status!=="completed"&&v("button",{className:"flex w-16 items-center justify-center gap-1 rounded-xl bg-contrast py-1 text-[1.4rem] font-semibold text-background transition-colors duration-200 ease-in-out hover:cursor-pointer hover:bg-contrast-50 dark:bg-white",onClick:u,children:v("i",{className:"fab fa-apple-pay mt-0.5"})})]})]})}function Ud({invoice:e}){const t=e.payments_period*24*60*60*1e3,n=e.timestamp+(e.current_payment+1)*t,o=Date.now(),r=n>o;return M("p",{className:te("flex w-max items-center gap-1.5 rounded-full px-2 py-0.5 text-xs font-semibold",r?"bg-green-300/40 text-green-500":"bg-red-300/40 text-red-600"),children:[v("i",{className:te("far",r?"fa-stopwatch":"fa-exclamation-triangle text-[0.6rem]")}),$d(new Date(o),new Date(n))]})}function Ar(e){const t={hidden:{opacity:0,scale:0,transition:{scale:{duration:.15,ease:"easeIn"},opacity:{duration:.3,ease:"easeIn"}}},show:{opacity:1,scale:1,transition:{scale:{duration:.15,ease:"easeIn"},opacity:{duration:.3,ease:"easeIn"}}}};return v($t.div,{className:"flex h-full w-full flex-col gap-2",variants:{hidden:{},show:{transition:{staggerChildren:.05}}},initial:"hidden",animate:"show",exit:"hidden",children:v(wu,{mode:"popLayout",children:e.invoices?M(Ke,{children:[e.invoices.map((n,o)=>v(_d,{variants:t,invoice:n,showRecipient:e.showRecipients},o)),e.invoices.length===0&&v("p",{className:"p-2 text-sm font-medium text-contrast-70",children:A("no_invoices_found")})]}):v("div",{className:"flex flex-col gap-2",children:Array(5).fill(null).map((n,o)=>v($t.div,{variants:t,children:v(Ru,{baseColor:"rgb(var(--palette-primary))",highlightColor:"rgb(var(--palette-secondary)/0.3)",duration:2,height:"3.25rem",borderRadius:"1rem",inline:!0})},o))})})})}function Hd(){const e=ee(Vt);return v("div",{className:"pt-12 pb-4",children:M("div",{className:"flex w-min flex-col gap-5",children:[v("div",{className:"relative",children:v(os,{stack:st,smaller:!0})}),M("div",{className:"flex items-center justify-center gap-2",children:[v(Vr,{active:e==="received",onClick:()=>Vt.set("received"),children:A("received")}),v(Vr,{active:e==="sent",onClick:()=>Vt.set("sent"),children:A("sent")})]})]})})}function Vr(e){return v("p",{className:te("flex items-center gap-2 rounded-full px-5 py-2 text-sm font-medium transition duration-150 ease-in-out hover:cursor-pointer hover:bg-secondary",e.active&&"!bg-primary"),onClick:e.onClick,children:e.children})}function zd(){const e=ee(yn),t=n=>{var o,r;e&&((r=(o=e[n]).action)==null||r.call(o),yn.reset())};return v(Ke,{children:e&&v("div",{className:"absolute inset-0 z-[1000] flex h-full w-full items-center justify-center bg-background/80",children:M("div",{className:"flex w-2/3 -translate-y-1/2 flex-col gap-5 rounded-xl bg-primary/50 pt-7 text-center backdrop-blur-md",children:[v("h1",{className:"text-title",children:e.title}),v("p",{children:e.description}),M("div",{className:"mt-2 flex items-center gap-2 border-t border-contrast-130/50 p-3",children:[v("button",{className:"flex-auto rounded-lg py-2 px-4 text-sm font-medium text-title transition ease-in-out hover:cursor-pointer hover:bg-background",onClick:()=>t("cancel"),children:e.cancel.label}),v("button",{className:"flex-auto rounded-lg bg-green-400 py-2 px-4 text-sm font-medium text-background transition ease-in-out hover:cursor-pointer hover:bg-green-300",onClick:()=>t("submit"),children:e.submit.label})]})]})})})}function Gd(){const[e,t]=p.useState(!1),o=ee(yo)[0];return p.useEffect(()=>{o&&!e&&(setTimeout(()=>{yo.set(r=>(r.splice(r.indexOf(o),1),r)),t(!1)},5e3),t(!0))},[e,o]),v(Ke,{children:o&&v("div",{className:"absolute left-0 top-0 z-[1100] w-full p-4",children:M("div",{className:"flex items-center gap-4 rounded-xl bg-primary/90 p-4 backdrop-blur-md",children:[v("img",{src:"/app.png",width:38}),M("div",{className:"flex flex-col justify-center text-sm",children:[v("p",{className:"text-title",children:o.title}),v("p",{children:o.content})]})]})})})}function Wd(){const e=ee(Vt),t=ee(st)??ze();let n=ee(Ye);return p.useEffect(()=>{De("queryInvoices",{tab:e,viewer:t},!1),window.addEventListener("message",o=>{var s;if(o.data.action==="UpdateInvoice"){const i=o.data.value;if(i.status==="cancelled"){Ye.set(((s=Ye.value)==null?void 0:s.filter(a=>a.id!==i.id))??[]);return}Ye.value&&Ye.update(i,a=>(a==null?void 0:a.id)===i.id)}})},[t,e]),M(Ke,{children:[v(zd,{}),v(Gd,{}),v("h1",{className:"pt-6 pb-12 text-4xl font-medium",children:A("welcome")}),v("div",{className:"flex w-full items-center justify-center rounded-2xl bg-gradient-to-br from-green-50 via-primary to-primary py-12 px-8 transition-all duration-200 hover:scale-105  hover:cursor-pointer dark:from-green-300/10 dark:to-primary",onClick:()=>Je.set("new_invoice"),children:M("h2",{className:"flex items-center text-lg font-medium text-contrast-20",children:[A("send_new_invoice"),v("i",{className:"far fa-long-arrow-right ml-3"})]})}),v(Hd,{}),M("div",{className:"flex-auto overflow-auto",children:[M("div",{className:"flex flex-col gap-4 py-4 px-2",children:[v("p",{children:A("pending")}),v(Ar,{id:"pending",invoices:n==null?void 0:n.filter(o=>o.status!=="completed"),showRecipients:e==="sent"})]}),M("div",{className:"mt-12 flex flex-col gap-4 py-4 px-2",children:[v("p",{children:A("history")}),v(Ar,{id:"completed",invoices:n==null?void 0:n.filter(o=>o.status==="completed"),showRecipients:e==="sent"})]})]})]})}function Ut(e){return Ut=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ut(e)}function At(e,t,n,o){if(Ut(n)!==o)throw new TypeError("Invalid prop '".concat(t,"' of type '").concat(Ut(n),"' supplied to '").concat(e,"', expected '").concat(o,"'."))}function Kd(e,t){t===void 0&&(t={});var n=t.insertAt;if(e&&typeof document<"u"){var o=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",n==="top"&&o.firstChild?o.insertBefore(r,o.firstChild):o.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}}var qd="Ring-module_container__1mCd7";function Yd(e){var t=e.size,n=t===void 0?40:t,o=e.color,r=o===void 0?"black":o,s=e.lineWeight,i=s===void 0?5:s,a=e.speed,c=a===void 0?2:a;return At("Ring","size",n,"number"),At("Ring","color",r,"string"),At("Ring","lineWeight",i,"number"),At("Ring","speed",c,"number"),$.createElement("svg",{height:n,width:n,className:qd,viewBox:"25 25 50 50",style:{"--uib-size":n+"px","--uib-color":r,"--uib-speed":c+"s"}},$.createElement("circle",{cx:"50",cy:"50",r:"20",strokeWidth:i}))}Kd(".Ring-module_container__1mCd7{animation:Ring-module_rotate__RBwLl var(--uib-speed) linear infinite;height:var(--uib-size);transform-origin:center;vertical-align:middle;width:var(--uib-size);will-change:transform}.Ring-module_container__1mCd7 circle{fill:none;stroke:var(--uib-color);stroke-dasharray:1,200;stroke-dashoffset:0;stroke-linecap:round;animation:Ring-module_stretch__L-1Qd calc(var(--uib-speed)*.75) ease-in-out infinite;will-change:stroke-dasharray,stroke-dashoffset}@keyframes Ring-module_rotate__RBwLl{to{transform:rotate(1turn)}}@keyframes Ring-module_stretch__L-1Qd{0%{stroke-dasharray:1,200;stroke-dashoffset:0}50%{stroke-dasharray:90,200;stroke-dashoffset:-35px}to{stroke-dashoffset:-124px}}");function Xd(){const[e,t]=p.useState(!1);return{set(n){t(n)},state:e,icon:e&&v(Yd,{size:20,lineWeight:5,speed:2}),overlay:e&&v("div",{className:"absolute inset-0 z-50 h-full w-full bg-background/50"}),Focus:n=>v("div",{className:te(e&&"z-[100]",n.className),children:n.children})}}function go(){const[e,t]=p.useState(!1),n=r=>{t(r)},o={onFocus:()=>n(!0),onBlur:()=>n(!1)};return is()||p.useEffect(()=>{fetch("https://lb-phone/toggleInput",{method:"POST",headers:{"Content-Type":"application/json; charset=UTF-8"},body:JSON.stringify(e)}).then(()=>{}).catch(()=>{})},[e]),o}function Zd(){var u;const e=Xd(),t=je((u=st.value)!=null&&u.canSend?st.value:ze()),n=je(null),o=je(0),r=je(1),s=je(0),i=je(""),a=[[1,A("period.daily")],[7,A("period.weekly")],[14,A("period.biweekly")],[31,A("period.monthly")],[93,A("period.quarterly")]],c=()=>t.value&&n.value&&o.value&&o.value>0,l=async()=>{c()&&(e.set(!0),await De("sendInvoice",{sender:t.value.id,sender_label:t.value.label,recipient:n.value.id,recipient_label:n.value.label,amount:o.value,payments_num:r.value,payments_period:a[s.value][0],summary:i.value}),e.set(!1),Je.reset())};return M("div",{className:"flex h-full w-full flex-col",children:[e.overlay,M("div",{className:"flex items-center gap-3 py-6 text-contrast-70 hover:cursor-pointer hover:text-contrast",onClick:()=>Je.reset(),children:[v("i",{className:"far fa-long-arrow-left"}),v("p",{className:"text-sm font-medium",children:A("home")})]}),v("h1",{className:"text-4xl font-medium",children:A("new_invoice")}),M("div",{className:"my-10 flex h-full flex-col gap-5",children:[M("div",{className:"relative flex flex-col gap-3",children:[v("p",{className:"ml-1 text-sm",children:A("sender")}),v(os,{stack:t,send:!0})]}),M("div",{className:"relative flex flex-col gap-3",children:[v("p",{className:"ml-1 text-sm",children:A("recipient")}),v(tf,{stack:n})]}),v("hr",{}),M("div",{className:"relative flex w-[calc(50%-0.45rem)] flex-col gap-3",children:[v("p",{className:"ml-1 text-sm",children:A("total_amount")}),v(Qd,{stack:o})]}),v("div",{className:"relative",children:v(ef,{numPayments:r,periodPayments:s})}),v("hr",{}),v(Jd,{stack:i})]}),M("div",{className:"flex gap-2",children:[v("button",{className:"flex-1 rounded-xl bg-primary p-4 text-sm font-medium",onClick:()=>Je.reset(),children:A("cancel")}),v(e.Focus,{className:"flex flex-1",children:v("button",{className:"flex flex-1 items-center justify-center gap-2 rounded-xl bg-contrast p-4 text-sm font-medium text-primary dark:bg-green-200",onClick:l,disabled:e.state,children:M("span",{className:"relative",children:[v("div",{className:"absolute -left-full",children:e.icon}),A("send")]})})})]})]})}function Qd(e){const t=go();return M("div",{className:"flex w-full items-center rounded-xl bg-primary",children:[v("span",{className:"pl-4 text-xs font-bold text-contrast-70",children:A("currency")}),v("input",{...t,placeholder:"0",className:"w-full appearance-none bg-transparent p-3",onChange:n=>e.stack.set(+parseInt(n.target.value))})]})}function Jd(e){const t=go();return v("textarea",{...t,className:"h-full w-full resize-none rounded-xl bg-primary p-5",placeholder:A("summary"),spellCheck:!1,onChange:n=>e.stack.set(n.target.value)})}function ef(e){const t=ee(e.numPayments),n=ee(e.periodPayments),o=[[1,A("period.daily")],[7,A("period.weekly")],[14,A("period.biweekly")],[31,A("period.monthly")],[93,A("period.quarterly")]];return v("div",{children:M("div",{className:"flex w-full gap-3",children:[M("div",{className:"relative flex flex-1 flex-col gap-3",children:[v("p",{className:"ml-1 text-sm",children:A("number_of_payments")}),M(se,{value:t,onChange:r=>e.numPayments.set(r),children:[M(se.Button,{className:"flex w-full gap-3 rounded-xl bg-primary py-3 px-5 text-left",children:[v("p",{className:"flex-1",children:t}),v("i",{className:"far fa-chevron-down text-sm"})]}),v(se.Options,{className:"scroll absolute top-[calc(100%+4px)] z-50 flex h-auto w-full flex-col overflow-y-auto rounded-xl bg-primary p-1 shadow-xl dark:shadow-black",style:{maxHeight:"calc(0.5rem + (2rem * 8))"},children:Array(10).fill(null).map((r,s)=>v(se.Option,{value:s+1,as:p.Fragment,children:v("div",{className:te("flex items-center gap-2 rounded-lg p-1 px-4 hover:cursor-pointer hover:bg-background"),children:s+1})},s+1))})]})]}),M("div",{className:"relative flex flex-1 flex-col gap-3",children:[v("p",{className:"mr-1 w-full text-sm",style:{direction:"rtl"},children:A("each_payment_period")}),M(se,{value:n,onChange:r=>e.periodPayments.set(r),disabled:t<=1,children:[M(se.Button,{className:te("flex w-full gap-3 rounded-xl bg-primary py-3 px-5 text-left",t<=1&&"opacity-40"),children:[v("p",{className:"flex-1",children:o[n][1]}),v("i",{className:"far fa-chevron-down text-sm"})]}),v(se.Options,{className:"absolute top-[calc(100%+4px)] z-50 flex w-full flex-col rounded-xl bg-primary p-1 shadow-xl dark:shadow-black",children:o.map(([r,s],i)=>v(se.Option,{value:i,as:p.Fragment,children:v("div",{className:te("flex items-center gap-2 rounded-lg py-1 px-3 hover:cursor-pointer hover:bg-background"),children:s})},i))})]})]})]})})}function tf(e){const t=go(),[n,o]=p.useState([]),[r,s]=p.useState(""),i=ee(e.stack);return p.useEffect(()=>{const a=setTimeout(async()=>{const c=await De("queryRecipients",r);o(c??[])},250);return()=>clearTimeout(a)},[r]),M(Rt,{value:i,onChange:a=>e.stack.set(a),children:[v(Rt.Input,{...t,autoFocus:!1,placeholder:"John Doe",displayValue:a=>a==null?void 0:a.label,className:"w-full rounded-xl bg-primary px-6 py-3",onChange:a=>s(a.target.value)}),n.length>0&&v(Rt.Options,{className:"scroll absolute top-[calc(100%+4px)] z-50 flex w-full flex-col overflow-y-auto rounded-xl bg-primary p-1 shadow-xl dark:shadow-black",style:{maxHeight:"calc(0.5rem + (2.5rem * 8))"},children:n.map(a=>v(Rt.Option,{value:a,children:({active:c})=>M("div",{className:te("group flex items-center gap-2 rounded-lg p-2 transition duration-150 ease-in-out hover:cursor-pointer hover:bg-background",c&&"bg-primary"),children:[(i==null?void 0:i.id)===a.id&&v("div",{className:"flex aspect-square min-w-[1.5rem] items-center justify-center rounded-lg bg-background group-hover:bg-primary",children:v("i",{className:"far fa-check text-xs"})}),v("p",{className:"px-1",children:a.label})]})},a.id))})]})}const nf={home:v(Wd,{}),new_invoice:v(Zd,{})};function lf(e){const t=ee(Je);return p.useEffect(()=>{var n;(n=window.parent)==null||n.postMessage("vivum-app-ready","*"),e.mode==="standalone"&&(document.documentElement.style.fontSize="calc(0.3 * (1.5vh + 1.1vw))",document.addEventListener("keydown",o=>{o.key==="Escape"&&(ss.reset(),De("close"))}))},[]),document.body.style.visibility=e.visible?"visible":"hidden",v(Ke,{children:e.visible&&v(of,{mode:e.mode,children:v("div",{className:"h-full w-full select-none overflow-hidden bg-background p-8 font-sans text-base font-medium text-contrast",children:v($t.div,{className:"flex h-full flex-col",initial:{opacity:0,translateY:-10},animate:{opacity:1,translateY:0},transition:{duration:.15,ease:"easeInOut"},children:nf[t]})})})})}function of(e){return e.mode==="lb-phone"?v(Ke,{children:e.children}):window.name==="vivum-embed"?v("div",{className:"h-full w-full",children:e.children}):e.mode==="standalone"?v("div",{className:"absolute inset-0 h-full w-full overflow-hidden bg-black/80",children:v("div",{className:"app absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 select-none items-center justify-center overflow-hidden rounded-[3rem] bg-black",style:{border:"10px solid black",boxShadow:"0 0 2px 1px #827694, 0 0 0 4px #2c2338"},children:e.children})}):(document.body.style.backgroundColor="rgb(27, 28, 32)",v("div",{className:"browser app",children:e.children}))}export{lf as default};
