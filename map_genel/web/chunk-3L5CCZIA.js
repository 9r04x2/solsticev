import{a as re}from"./chunk-ANY2HEWE.js";import{a as te}from"./chunk-GZ7HLBKI.js";import{a as fe,b as d,d as it}from"./chunk-FSRPMVAS.js";var pe=d(($t,ne)=>{var oe=function(o){"use strict";var a=Object.prototype,s=a.hasOwnProperty,l=Object.defineProperty||function(t,e,r){t[e]=r.value},f,S=typeof Symbol=="function"?Symbol:{},E=S.iterator||"@@iterator",y=S.asyncIterator||"@@asyncIterator",O=S.toStringTag||"@@toStringTag";function v(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{v({},"")}catch{v=function(e,r,i){return e[r]=i}}function N(t,e,r,i){var n=e&&e.prototype instanceof k?e:k,c=Object.create(n.prototype),w=new z(i||[]);return l(c,"_invoke",{value:$(t,r,w)}),c}o.wrap=N;function u(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(i){return{type:"throw",arg:i}}}var g="suspendedStart",j="suspendedYield",I="executing",T="completed",h={};function k(){}function m(){}function _(){}var U={};v(U,E,function(){return this});var W=Object.getPrototypeOf,G=W&&W(W(F([])));G&&G!==a&&s.call(G,E)&&(U=G);var R=_.prototype=k.prototype=Object.create(U);m.prototype=_,l(R,"constructor",{value:_,configurable:!0}),l(_,"constructor",{value:m,configurable:!0}),m.displayName=v(_,O,"GeneratorFunction");function H(t){["next","throw","return"].forEach(function(e){v(t,e,function(r){return this._invoke(e,r)})})}o.isGeneratorFunction=function(t){var e=typeof t=="function"&&t.constructor;return e?e===m||(e.displayName||e.name)==="GeneratorFunction":!1},o.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,_):(t.__proto__=_,v(t,O,"GeneratorFunction")),t.prototype=Object.create(R),t},o.awrap=function(t){return{__await:t}};function P(t,e){function r(c,w,p,b){var L=u(t[c],t,w);if(L.type==="throw")b(L.arg);else{var ee=L.arg,K=ee.value;return K&&typeof K=="object"&&s.call(K,"__await")?e.resolve(K.__await).then(function(C){r("next",C,p,b)},function(C){r("throw",C,p,b)}):e.resolve(K).then(function(C){ee.value=C,p(ee)},function(C){return r("throw",C,p,b)})}}var i;function n(c,w){function p(){return new e(function(b,L){r(c,w,b,L)})}return i=i?i.then(p,p):p()}l(this,"_invoke",{value:n})}H(P.prototype),v(P.prototype,y,function(){return this}),o.AsyncIterator=P,o.async=function(t,e,r,i,n){n===void 0&&(n=Promise);var c=new P(N(t,e,r,i),n);return o.isGeneratorFunction(e)?c:c.next().then(function(w){return w.done?w.value:c.next()})};function $(t,e,r){var i=g;return function(c,w){if(i===I)throw new Error("Generator is already running");if(i===T){if(c==="throw")throw w;return J()}for(r.method=c,r.arg=w;;){var p=r.delegate;if(p){var b=x(p,r);if(b){if(b===h)continue;return b}}if(r.method==="next")r.sent=r._sent=r.arg;else if(r.method==="throw"){if(i===g)throw i=T,r.arg;r.dispatchException(r.arg)}else r.method==="return"&&r.abrupt("return",r.arg);i=I;var L=u(t,e,r);if(L.type==="normal"){if(i=r.done?T:j,L.arg===h)continue;return{value:L.arg,done:r.done}}else L.type==="throw"&&(i=T,r.method="throw",r.arg=L.arg)}}}function x(t,e){var r=e.method,i=t.iterator[r];if(i===f)return e.delegate=null,r==="throw"&&t.iterator.return&&(e.method="return",e.arg=f,x(t,e),e.method==="throw")||r!=="return"&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+r+"' method")),h;var n=u(i,t.iterator,e.arg);if(n.type==="throw")return e.method="throw",e.arg=n.arg,e.delegate=null,h;var c=n.arg;if(!c)return e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,h;if(c.done)e[t.resultName]=c.value,e.next=t.nextLoc,e.method!=="return"&&(e.method="next",e.arg=f);else return c;return e.delegate=null,h}H(R),v(R,O,"Generator"),v(R,E,function(){return this}),v(R,"toString",function(){return"[object Generator]"});function X(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function B(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function z(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(X,this),this.reset(!0)}o.keys=function(t){var e=Object(t),r=[];for(var i in e)r.push(i);return r.reverse(),function n(){for(;r.length;){var c=r.pop();if(c in e)return n.value=c,n.done=!1,n}return n.done=!0,n}};function F(t){if(t){var e=t[E];if(e)return e.call(t);if(typeof t.next=="function")return t;if(!isNaN(t.length)){var r=-1,i=function n(){for(;++r<t.length;)if(s.call(t,r))return n.value=t[r],n.done=!1,n;return n.value=f,n.done=!0,n};return i.next=i}}return{next:J}}o.values=F;function J(){return{value:f,done:!0}}return z.prototype={constructor:z,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=f,this.done=!1,this.delegate=null,this.method="next",this.arg=f,this.tryEntries.forEach(B),!t)for(var e in this)e.charAt(0)==="t"&&s.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=f)},stop:function(){this.done=!0;var t=this.tryEntries[0],e=t.completion;if(e.type==="throw")throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(b,L){return c.type="throw",c.arg=t,e.next=b,L&&(e.method="next",e.arg=f),!!L}for(var i=this.tryEntries.length-1;i>=0;--i){var n=this.tryEntries[i],c=n.completion;if(n.tryLoc==="root")return r("end");if(n.tryLoc<=this.prev){var w=s.call(n,"catchLoc"),p=s.call(n,"finallyLoc");if(w&&p){if(this.prev<n.catchLoc)return r(n.catchLoc,!0);if(this.prev<n.finallyLoc)return r(n.finallyLoc)}else if(w){if(this.prev<n.catchLoc)return r(n.catchLoc,!0)}else if(p){if(this.prev<n.finallyLoc)return r(n.finallyLoc)}else throw new Error("try statement without catch or finally")}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&s.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var n=i;break}}n&&(t==="break"||t==="continue")&&n.tryLoc<=e&&e<=n.finallyLoc&&(n=null);var c=n?n.completion:{};return c.type=t,c.arg=e,n?(this.method="next",this.next=n.finallyLoc,h):this.complete(c)},complete:function(t,e){if(t.type==="throw")throw t.arg;return t.type==="break"||t.type==="continue"?this.next=t.arg:t.type==="return"?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):t.type==="normal"&&e&&(this.next=e),h},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),B(r),h}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var i=r.completion;if(i.type==="throw"){var n=i.arg;B(r)}return n}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:F(t),resultName:e,nextLoc:r},this.method==="next"&&(this.arg=f),h}},o}(typeof ne=="object"?ne.exports:{});try{regeneratorRuntime=oe}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=oe:Function("r","regeneratorRuntime = r")(oe)}});var V=d((Bt,he)=>{"use strict";he.exports=(o,a)=>`${o}-${a}-${Math.random().toString(16).slice(3,8)}`});var ie=d((zt,me)=>{"use strict";var at=V(),ge=0;me.exports=({id:o,action:a,payload:s={}})=>{let l=o;return typeof l>"u"&&(l=at("Job",ge),ge+=1),{id:l,action:a,payload:s}}});var Z=d(Y=>{"use strict";var ae=!1;Y.logging=ae;Y.setLogging=o=>{ae=o};Y.log=(...o)=>ae?console.log.apply(Y,o):null});var be=d((ye,ve)=>{"use strict";var st=ie(),{log:Q}=Z(),ct=V(),we=0;ve.exports=()=>{let o=ct("Scheduler",we),a={},s={},l=[];we+=1;let f=()=>l.length,S=()=>Object.keys(a).length,E=()=>{if(l.length!==0){let u=Object.keys(a);for(let g=0;g<u.length;g+=1)if(typeof s[u[g]]>"u"){l[0](a[u[g]]);break}}},y=(u,g)=>new Promise((j,I)=>{let T=st({action:u,payload:g});l.push(async h=>{l.shift(),s[h.id]=T;try{j(await h[u].apply(ye,[...g,T.id]))}catch(k){I(k)}finally{delete s[h.id],E()}}),Q(`[${o}]: Add ${T.id} to JobQueue`),Q(`[${o}]: JobQueue length=${l.length}`),E()});return{addWorker:u=>(a[u.id]=u,Q(`[${o}]: Add ${u.id}`),Q(`[${o}]: Number of workers=${S()}`),E(),u.id),addJob:async(u,...g)=>{if(S()===0)throw Error(`[${o}]: You need to have at least one worker before adding jobs`);return y(u,g)},terminate:async()=>{Object.keys(a).forEach(async u=>{await a[u].terminate()}),l=[]},getQueueLen:f,getNumWorkers:S}}});var ke=d((Kt,Le)=>{"use strict";Le.exports=o=>{let a={};return typeof WorkerGlobalScope<"u"?a.type="webworker":typeof document=="object"?a.type="browser":typeof process=="object"&&typeof fe=="function"&&(a.type="node"),typeof o>"u"?a:a[o]}});var Ee=d((Ht,Se)=>{"use strict";var lt=ke()("type")==="browser",ut=lt?o=>new URL(o,window.location.href).href:o=>o;Se.exports=o=>{let a={...o};return["corePath","workerPath","langPath"].forEach(s=>{o[s]&&(a[s]=ut(a[s]))}),a}});var se=d((xt,Oe)=>{"use strict";Oe.exports={TESSERACT_ONLY:0,LSTM_ONLY:1,TESSERACT_LSTM_COMBINED:2,DEFAULT:3}});var Te=d((Jt,dt)=>{dt.exports={name:"tesseract.js",version:"6.0.1",description:"Pure Javascript Multilingual OCR",main:"src/index.js",type:"commonjs",types:"src/index.d.ts",unpkg:"dist/tesseract.min.js",jsdelivr:"dist/tesseract.min.js",scripts:{start:"node scripts/server.js",build:"rimraf dist && webpack --config scripts/webpack.config.prod.js && rollup -c scripts/rollup.esm.mjs","profile:tesseract":"webpack-bundle-analyzer dist/tesseract-stats.json","profile:worker":"webpack-bundle-analyzer dist/worker-stats.json",prepublishOnly:"npm run build",wait:"rimraf dist && wait-on http://localhost:3000/dist/tesseract.min.js",test:"npm-run-all -p -r start test:all","test:all":"npm-run-all wait test:browser test:node:all","test:browser":"karma start karma.conf.js","test:node":"nyc mocha --exit --bail --require ./scripts/test-helper.mjs","test:node:all":"npm run test:node -- ./tests/*.test.mjs",lint:"eslint src","lint:fix":"eslint --fix src",postinstall:"opencollective-postinstall || true"},browser:{"./src/worker/node/index.js":"./src/worker/browser/index.js"},author:"",contributors:["jeromewu"],license:"Apache-2.0",devDependencies:{"@babel/core":"^7.21.4","@babel/eslint-parser":"^7.21.3","@babel/preset-env":"^7.21.4","@rollup/plugin-commonjs":"^24.1.0",acorn:"^8.8.2","babel-loader":"^9.1.2",buffer:"^6.0.3",cors:"^2.8.5",eslint:"^7.32.0","eslint-config-airbnb-base":"^14.2.1","eslint-plugin-import":"^2.27.5","expect.js":"^0.3.1",express:"^4.18.2",mocha:"^10.2.0","npm-run-all":"^4.1.5",karma:"^6.4.2","karma-chrome-launcher":"^3.2.0","karma-firefox-launcher":"^2.1.2","karma-mocha":"^2.0.1","karma-webpack":"^5.0.0",nyc:"^15.1.0",rimraf:"^5.0.0",rollup:"^3.20.7","wait-on":"^7.0.1",webpack:"^5.79.0","webpack-bundle-analyzer":"^4.8.0","webpack-cli":"^5.0.1","webpack-dev-middleware":"^6.0.2","rollup-plugin-sourcemaps":"^0.6.3"},dependencies:{"bmp-js":"^0.1.0","idb-keyval":"^6.2.0","is-url":"^1.2.4","node-fetch":"^2.6.9","opencollective-postinstall":"^2.0.3","regenerator-runtime":"^0.13.3","tesseract.js-core":"^6.0.0","wasm-feature-detect":"^1.2.11",zlibjs:"^0.3.1"},overrides:{"@rollup/pluginutils":"^5.0.2"},repository:{type:"git",url:"https://github.com/naptha/tesseract.js.git"},bugs:{url:"https://github.com/naptha/tesseract.js/issues"},homepage:"https://github.com/naptha/tesseract.js",collective:{type:"opencollective",url:"https://opencollective.com/tesseractjs"}}});var _e=d((Vt,Ae)=>{"use strict";Ae.exports={workerBlobURL:!0,logger:()=>{}}});var Ne=d((Zt,Re)=>{"use strict";var ft=Te().version,pt=_e();Re.exports={...pt,workerPath:`https://cdn.jsdelivr.net/npm/tesseract.js@v${ft}/dist/worker.min.js`}});var Ie=d((Qt,je)=>{"use strict";je.exports=({workerPath:o,workerBlobURL:a})=>{let s;if(Blob&&URL&&a){let l=new Blob([`importScripts("${o}");`],{type:"application/javascript"});s=new Worker(URL.createObjectURL(l))}else s=new Worker(o);return s}});var Ce=d((Xt,Pe)=>{"use strict";Pe.exports=o=>{o.terminate()}});var qe=d((er,Me)=>{"use strict";Me.exports=(o,a)=>{o.onmessage=({data:s})=>{a(s)}}});var De=d((tr,Ge)=>{"use strict";Ge.exports=async(o,a)=>{o.postMessage(a)}});var We=d((rr,Ue)=>{"use strict";var ce=o=>new Promise((a,s)=>{let l=new FileReader;l.onload=()=>{a(l.result)},l.onerror=({target:{error:{code:f}}})=>{s(Error(`File could not be read! Code=${f}`))},l.readAsArrayBuffer(o)}),le=async o=>{let a=o;if(typeof o>"u")return"undefined";if(typeof o=="string")/data:image\/([a-zA-Z]*);base64,([^"]*)/.test(o)?a=atob(o.split(",")[1]).split("").map(s=>s.charCodeAt(0)):a=await(await fetch(o)).arrayBuffer();else if(typeof HTMLElement<"u"&&o instanceof HTMLElement)o.tagName==="IMG"&&(a=await le(o.src)),o.tagName==="VIDEO"&&(a=await le(o.poster)),o.tagName==="CANVAS"&&await new Promise(s=>{o.toBlob(async l=>{a=await ce(l),s()})});else if(typeof OffscreenCanvas<"u"&&o instanceof OffscreenCanvas){let s=await o.convertToBlob();a=await ce(s)}else(o instanceof File||o instanceof Blob)&&(a=await ce(o));return new Uint8Array(a)};Ue.exports=le});var Be=d((or,$e)=>{"use strict";var ht=Ne(),gt=Ie(),mt=Ce(),wt=qe(),yt=De(),vt=We();$e.exports={defaultOptions:ht,spawnWorker:gt,terminateWorker:mt,onMessage:wt,send:yt,loadImage:vt}});var ue=d((nr,Ye)=>{"use strict";var bt=Ee(),A=ie(),{log:ze}=Z(),Lt=V(),M=se(),{defaultOptions:kt,spawnWorker:St,terminateWorker:Et,onMessage:Ot,loadImage:Fe,send:Tt}=Be(),Ke=0;Ye.exports=async(o="eng",a=M.LSTM_ONLY,s={},l={})=>{let f=Lt("Worker",Ke),{logger:S,errorHandler:E,...y}=bt({...kt,...s}),O={},v=typeof o=="string"?o.split("+"):o,N=a,u=l,g=[M.DEFAULT,M.LSTM_ONLY].includes(a)&&!y.legacyCore,j,I,T=new Promise((t,e)=>{I=t,j=e}),h=t=>{j(t.message)},k=St(y);k.onerror=h,Ke+=1;let m=({id:t,action:e,payload:r})=>new Promise((i,n)=>{ze(`[${f}]: Start ${t}, action=${e}`);let c=`${e}-${t}`;O[c]={resolve:i,reject:n},Tt(k,{workerId:f,jobId:t,action:e,payload:r})}),_=()=>console.warn("`load` is depreciated and should be removed from code (workers now come pre-loaded)"),U=t=>m(A({id:t,action:"load",payload:{options:{lstmOnly:g,corePath:y.corePath,logging:y.logging}}})),W=(t,e,r)=>m(A({id:r,action:"FS",payload:{method:"writeFile",args:[t,e]}})),G=(t,e)=>m(A({id:e,action:"FS",payload:{method:"readFile",args:[t,{encoding:"utf8"}]}})),R=(t,e)=>m(A({id:e,action:"FS",payload:{method:"unlink",args:[t]}})),H=(t,e,r)=>m(A({id:r,action:"FS",payload:{method:t,args:e}})),P=(t,e)=>m(A({id:e,action:"loadLanguage",payload:{langs:t,options:{langPath:y.langPath,dataPath:y.dataPath,cachePath:y.cachePath,cacheMethod:y.cacheMethod,gzip:y.gzip,lstmOnly:[M.DEFAULT,M.LSTM_ONLY].includes(N)&&!y.legacyLang}}})),$=(t,e,r,i)=>m(A({id:i,action:"initialize",payload:{langs:t,oem:e,config:r}})),x=(t="eng",e,r,i)=>{if(g&&[M.TESSERACT_ONLY,M.TESSERACT_LSTM_COMBINED].includes(e))throw Error("Legacy model requested but code missing.");let n=e||N;N=n;let c=r||u;u=c;let p=(typeof t=="string"?t.split("+"):t).filter(b=>!v.includes(b));return v.push(...p),p.length>0?P(p,i).then(()=>$(t,n,c,i)):$(t,n,c,i)},X=(t={},e)=>m(A({id:e,action:"setParameters",payload:{params:t}})),B=async(t,e={},r={text:!0},i)=>m(A({id:i,action:"recognize",payload:{image:await Fe(t),options:e,output:r}})),z=async(t,e)=>{if(g)throw Error("`worker.detect` requires Legacy model, which was not loaded.");return m(A({id:e,action:"detect",payload:{image:await Fe(t)}}))},F=async()=>(k!==null&&(Et(k),k=null),Promise.resolve());Ot(k,({workerId:t,jobId:e,status:r,action:i,data:n})=>{let c=`${i}-${e}`;if(r==="resolve")ze(`[${t}]: Complete ${e}`),O[c].resolve({jobId:e,data:n}),delete O[c];else if(r==="reject")if(O[c].reject(n),delete O[c],i==="load"&&j(n),E)E(n);else throw Error(n);else r==="progress"&&S({...n,userJobId:e})});let J={id:f,worker:k,load:_,writeText:W,readText:G,removeFile:R,FS:H,reinitialize:x,setParameters:X,recognize:B,detect:z,terminate:F};return U().then(()=>P(o)).then(()=>$(o,a,l)).then(()=>I(J)).catch(()=>{}),T}});var Je=d((ir,xe)=>{"use strict";var He=ue(),At=async(o,a,s)=>{let l=await He(a,1,s);return l.recognize(o).finally(async()=>{await l.terminate()})},_t=async(o,a)=>{let s=await He("osd",0,a);return s.detect(o).finally(async()=>{await s.terminate()})};xe.exports={recognize:At,detect:_t}});var Ze=d((ar,Ve)=>{"use strict";Ve.exports={AFR:"afr",AMH:"amh",ARA:"ara",ASM:"asm",AZE:"aze",AZE_CYRL:"aze_cyrl",BEL:"bel",BEN:"ben",BOD:"bod",BOS:"bos",BUL:"bul",CAT:"cat",CEB:"ceb",CES:"ces",CHI_SIM:"chi_sim",CHI_TRA:"chi_tra",CHR:"chr",CYM:"cym",DAN:"dan",DEU:"deu",DZO:"dzo",ELL:"ell",ENG:"eng",ENM:"enm",EPO:"epo",EST:"est",EUS:"eus",FAS:"fas",FIN:"fin",FRA:"fra",FRK:"frk",FRM:"frm",GLE:"gle",GLG:"glg",GRC:"grc",GUJ:"guj",HAT:"hat",HEB:"heb",HIN:"hin",HRV:"hrv",HUN:"hun",IKU:"iku",IND:"ind",ISL:"isl",ITA:"ita",ITA_OLD:"ita_old",JAV:"jav",JPN:"jpn",KAN:"kan",KAT:"kat",KAT_OLD:"kat_old",KAZ:"kaz",KHM:"khm",KIR:"kir",KOR:"kor",KUR:"kur",LAO:"lao",LAT:"lat",LAV:"lav",LIT:"lit",MAL:"mal",MAR:"mar",MKD:"mkd",MLT:"mlt",MSA:"msa",MYA:"mya",NEP:"nep",NLD:"nld",NOR:"nor",ORI:"ori",PAN:"pan",POL:"pol",POR:"por",PUS:"pus",RON:"ron",RUS:"rus",SAN:"san",SIN:"sin",SLK:"slk",SLV:"slv",SPA:"spa",SPA_OLD:"spa_old",SQI:"sqi",SRP:"srp",SRP_LATN:"srp_latn",SWA:"swa",SWE:"swe",SYR:"syr",TAM:"tam",TEL:"tel",TGK:"tgk",TGL:"tgl",THA:"tha",TIR:"tir",TUR:"tur",UIG:"uig",UKR:"ukr",URD:"urd",UZB:"uzb",UZB_CYRL:"uzb_cyrl",VIE:"vie",YID:"yid"}});var Xe=d((sr,Qe)=>{"use strict";Qe.exports={OSD_ONLY:"0",AUTO_OSD:"1",AUTO_ONLY:"2",AUTO:"3",SINGLE_COLUMN:"4",SINGLE_BLOCK_VERT_TEXT:"5",SINGLE_BLOCK:"6",SINGLE_LINE:"7",SINGLE_WORD:"8",CIRCLE_WORD:"9",SINGLE_CHAR:"10",SPARSE_TEXT:"11",SPARSE_TEXT_OSD:"12",RAW_LINE:"13"}});var tt=d((cr,et)=>{"use strict";pe();var Rt=be(),Nt=ue(),jt=Je(),It=Ze(),Pt=se(),Ct=Xe(),{setLogging:Mt}=Z();et.exports={languages:It,OEM:Pt,PSM:Ct,createScheduler:Rt,createWorker:Nt,setLogging:Mt,...jt}});var D=it(tt(),1);var qt=1e3*3,rt=[],q=null;window.addEventListener("message",o=>{o.data.onScreenDetection!==void 0&&(o.data.onScreenDetection?Ut():Wt()),o.data.onScreenKeywords!==void 0&&(rt=o.data.onScreenKeywords.map(a=>a.toLowerCase()))});var ot=(0,D.createScheduler)(),de=[];async function Gt(){let o=await(0,D.createWorker)("eng",1);await o.setParameters({tessedit_pageseg_mode:D.PSM.AUTO,debug_file:"/dev/null"}),ot.addWorker(o),de.push(o)}async function Dt(){for(let o of de)o.terminate();de=[]}async function nt(){let o=Date.now();re.recoginitionView.render();let s=(await ot.addJob("recognize",re.recognitionCanvas)).data.text.toLowerCase();for(let S of rt)if(s.includes(S)){te("OCRKeywordDetected",{word:S});break}let l=Date.now()-o,f=Math.max(0,qt-l);q&&clearTimeout(q),q=setTimeout(nt,f)}async function Ut(){await Gt(),q||nt()}async function Wt(){q&&(clearTimeout(q),q=null),await Dt()}te("recognitionReady");
